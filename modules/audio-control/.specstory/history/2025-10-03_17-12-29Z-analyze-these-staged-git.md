<!-- Generated by SpecStory -->

# Submodule to Directory: Logger Integration Complete (2025-10-03 17:12:29Z)

<!-- Claude Code Session 58e53f5e-cdf5-475a-b52f-e12b6fc7d4fd (2025-10-03_17-12-29Z) -->

_**User**_

Analyze these staged git changes and output ONLY a single-line conventional commit message (type(scope): description). No explanations.
diff --git a/modules/audio-control/modules/live-max-cc-router b/modules/audio-control/modules/live-max-cc-router
deleted file mode 160000
index db0d267..0000000
--- a/modules/audio-control/modules/live-max-cc-router
+++ /dev/null
@@ -1 +0,0 @@
-Subproject commit db0d2679314e3fdaec76621f9b6d04e377bb1712
diff --git a/modules/audio-control/modules/live-max-cc-router/.eslintrc.cjs b/modules/audio-control/modules/live-max-cc-router/.eslintrc.cjs
new file mode 100644
index 0000000..e41545f
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/.eslintrc.cjs
@@ -0,0 +1,20 @@
+module.exports = {
+  root: true,
+  env: { browser: true, es2020: true },
+  extends: [
+    'eslint:recommended',
+    '@typescript-eslint/recommended',
+    'plugin:react-hooks/recommended',
+  ],
+  ignorePatterns: ['dist', '.eslintrc.cjs'],
+  parser: '@typescript-eslint/parser',
+  plugins: ['react-refresh'],
+  rules: {
+    'react-refresh/only-export-components': [
+      'warn',
+      { allowConstantExport: true },
+    ],
+    '@typescript-eslint/no-unused-vars': ['error', { argsIgnorePattern: '^_' }],
+    '@typescript-eslint/no-explicit-any': 'warn',
+  },
+}
diff --git a/modules/audio-control/modules/live-max-cc-router/.gitignore b/modules/audio-control/modules/live-max-cc-router/.gitignore
new file mode 100644
index 0000000..bfb4a1f
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/.gitignore
@@ -0,0 +1,65 @@
+# Logs
+logs
+*.log
+npm-debug.log*
+yarn-debug.log*
+yarn-error.log*
+pnpm-debug.log*
+lerna-debug.log*
+
+# Dependencies
+node_modules
+dist
+dist-ssr
+*.local
+
+# Editor directories and files
+.vscode/*
+!.vscode/extensions.json
+.idea
+.DS_Store
+*.suo
+*.ntvs*
+*.njsproj
+*.sln
+*.sw?
+
+# Environment variables
+.env
+.env.local
+.env.development.local
+.env.test.local
+.env.production.local
+
+# TypeScript
+*.tsbuildinfo
+
+# Build outputs
+build/
+out/
+
+# Max/MSP
+*.mxo
+*.maxhelp
+
+# OS generated files
+Thumbs.db
+.DS_Store
+.DS_Store?
+._*
+.Spotlight-V100
+.Trashes
+ehthumbs.db
+
+# IDE files
+*.swp
+*.swo
+*~
+
+# Temporary files
+*.tmp
+*.temp
+
+# Package manager lockfiles (keep pnpm-lock.yaml)
+package-lock.json
+yarn.lock
diff --git a/modules/audio-control/modules/live-max-cc-router/.gitkeep b/modules/audio-control/modules/live-max-cc-router/.gitkeep
new file mode 100644
index 0000000..e69de29
diff --git a/modules/audio-control/modules/live-max-cc-router/README.md b/modules/audio-control/modules/live-max-cc-router/README.md
new file mode 100644
index 0000000..534e2ba
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/README.md
@@ -0,0 +1,284 @@
+# CC Router - TypeScript for Max for Live
+
+A TypeScript-based CC router for Launch Control XL3 that compiles to JavaScript for Max for Live. This gives you the
+benefits of TypeScript development (types, IntelliSense, refactoring) while producing Max-compatible JavaScript.
+
+## Features
+
+- ‚úÖ **TypeScript Development** - Full type safety and IntelliSense
+- ‚úÖ **Auto-compilation** - TypeScript compiles to Max-compatible JavaScript
+- ‚úÖ **Live Reload** - File watching for instant updates
+- ‚úÖ **Track-Aware Routing** - CC messages only affect the selected track
+- ‚úÖ **Plugin Presets** - Built-in mappings for common Ableton devices
+- ‚úÖ **Debug Mode** - Detailed logging for development
+- ‚úÖ **No External Dependencies** - Pure Max for Live integration
+
+## Quick Start
+
+### 1. Setup
+
+```bash
+npm install
+npm run setup
+```
+
+### 2. Development
+
+```bash
+npm run dev    # Start TypeScript watch mode with notifications
+```
+
+### 3. Use in Max for Live
+
+1. Open Max for Live
+2. Navigate to your Max projects folder
+3. Open `cc-router/patchers/cc-router.maxpat`
+4. Save as an Audio Effect in your Live set
+5. Connect Launch Control XL3 and start mapping!
+
+## Architecture
+
+```
+TypeScript Source ‚Üí Compiled JavaScript ‚Üí Max for Live ‚Üí Ableton Live
+     (src/)            (dist/)           (js object)    (parameters)
+```
+
+## Project Structure
+
+```
+cc-router/
+‚îú‚îÄ‚îÄ src/
+‚îÇ   ‚îú‚îÄ‚îÄ types.ts              # TypeScript definitions
+‚îÇ   ‚îú‚îÄ‚îÄ cc-router.ts          # Core routing logic
+‚îÇ   ‚îî‚îÄ‚îÄ max-integration.ts    # Max for Live interface
+‚îú‚îÄ‚îÄ dist/                     # Compiled JavaScript
+‚îú‚îÄ‚îÄ scripts/
+‚îÇ   ‚îú‚îÄ‚îÄ setup.js             # Initial setup
+‚îÇ   ‚îî‚îÄ‚îÄ deploy.js            # Deploy to Max for Live
+‚îî‚îÄ‚îÄ package.json             # Dependencies and scripts
+```
+
+## Default Mappings (Launch Control XL3)
+
+| Control | CC Number | Parameter Index | Description       |
+|---------|-----------|-----------------|-------------------|
+| Knob 1  | CC 13     | Parameter 0     | Device 0, Param 0 |
+| Knob 2  | CC 14     | Parameter 1     | Device 0, Param 1 |
+| Knob 3  | CC 15     | Parameter 2     | Device 0, Param 2 |
+| Knob 4  | CC 16     | Parameter 3     | Device 0, Param 3 |
+| Knob 5  | CC 17     | Parameter 4     | Device 0, Param 4 |
+| Knob 6  | CC 18     | Parameter 5     | Device 0, Param 5 |
+| Knob 7  | CC 19     | Parameter 6     | Device 0, Param 6 |
+| Knob 8  | CC 20     | Parameter 7     | Device 0, Param 7 |
+
+## Available Commands (in Max Console)
+
+### Basic Usage
+
+- `loadbang` - Initialize the router
+- `help` - Show all available commands
+- `config` - Display current configuration
+- `trackinfo` - Show selected track and devices
+
+### Mapping Management
+
+- `setmapping <cc> <device> <param> [name] [curve]` - Add/update mapping
+- `removemapping <cc>` - Remove a mapping
+- `setupfor <plugin>` - Load preset for specific plugin
+
+### Testing & Debug
+
+- `debug <0|1>` - Toggle debug mode
+- `testcc <cc> <value>` - Test a specific CC message
+- `bang` - Show track info
+
+### Plugin Presets
+
+- `setupfor eq8` - EQ Eight with frequency/gain controls
+- `setupfor compressor` - Compressor with threshold/ratio/attack/release
+- `setupfor reverb` - Reverb with decay/room size/dry-wet
+- `setupfor operator` - Operator with oscillator levels and filter
+
+## Development Workflow
+
+### 1. Edit TypeScript Files
+
+```bash
+# Start watch mode
+npm run dev
+
+# Edit files in src/
+code src/cc-router.ts
+```
+
+### 2. Auto-Compilation
+
+- Files automatically compile to `dist/`
+- Notifications show compilation status
+- Max device picks up changes via `@autowatch 1`
+
+### 3. Test in Max for Live
+
+- Reload js object if needed
+- Use debug commands to test functionality
+- Send MIDI CC messages to verify routing
+
+### 4. Deploy Updates
+
+```bash
+npm run deploy  # Copy latest compiled JS to Max projects
+```
+
+## Value Transformation
+
+### Curves
+
+- **Linear**: Direct 1:1 mapping (default)
+- **Exponential**: Squared response (more precision at low values)
+- **Logarithmic**: Square root response (more precision at high values)
+
+### Custom Ranges
+
+Set min/max values in parameter mappings:
+
+```javascript
+setmapping
+13
+0
+1
+"Filter Freq"
+exponential
+0.2
+0.8
+// CC 13 now maps from 20% to 80% of parameter range
+```
+
+## Advanced Usage
+
+### Custom Plugin Integration
+
+1. **Discover parameters:**
+   ```
+   trackinfo  # Shows devices and parameter counts
+   ```
+
+2. **Create mappings:**
+   ```
+   setmapping 13 0 5 "Custom Param" linear
+   ```
+
+3. **Save configuration:**
+    - Mappings persist within the Max object
+    - Export/import via TypeScript code
+
+### Multiple Device Support
+
+Map different CC ranges to different devices:
+
+```javascript
+// Device 0 (first in chain)
+setmapping
+13
+0
+0
+"Device 1 Param 1"
+setmapping
+14
+0
+1
+"Device 1 Param 2"
+
+// Device 1 (second in chain)  
+setmapping
+21
+1
+0
+"Device 2 Param 1"
+setmapping
+22
+1
+1
+"Device 2 Param 2"
+```
+
+## TypeScript Benefits
+
+### Type Safety
+
+```typescript
+interface ParameterMapping {
+    ccNumber: number;
+    deviceIndex: number;
+    parameterIndex: number;
+    parameterName: string;
+    curve: 'linear' | 'exponential' | 'logarithmic';
+}
+```
+
+### IntelliSense
+
+- Auto-completion for Live API calls
+- Parameter hints and documentation
+- Compile-time error checking
+
+### Refactoring
+
+- Safe renaming across files
+- Find all references
+- Automated code transformations
+
+## Scripts
+
+```bash
+npm run build      # Compile TypeScript to JavaScript
+npm run watch      # Auto-compile on file changes  
+npm run dev        # Watch mode with notifications
+npm run deploy     # Deploy compiled JS to Max for Live
+npm run setup      # Initial project setup
+npm run clean      # Clean dist folder
+```
+
+## Troubleshooting
+
+### TypeScript Compilation Errors
+
+- Check `tsconfig.json` configuration
+- Ensure proper type definitions in `src/types.ts`
+- Run `npm run build` to see detailed errors
+
+### Max for Live Integration Issues
+
+- Verify `@autowatch 1` in js object
+- Check Max console for JavaScript errors
+- Reload js object after compilation
+- Ensure file paths are correct
+
+### MIDI Routing Problems
+
+- Use `debug 1` to enable verbose logging
+- Check track selection with `trackinfo`
+- Verify device/parameter indices exist
+- Test with `testcc` command
+
+### Launch Control XL3 Setup
+
+- Use custom mode (not DAW control)
+- Verify CC numbers 13-20 for top knobs
+- Check MIDI channel (default: channel 1)
+- Test with external MIDI monitor first
+
+## Acknowledgements
+
+This project uses [ioRouting.js](https://github.com/h1data/M4L-ioRouting-js) by [h1data](https://github.com/h1data) to enable MIDI input routing on audio tracks. The MIDI routing approach was inspired by the MidiRouter Max for Live device.
+
+## Contributing
+
+1. Fork the repository
+2. Create feature branch: `git checkout -b feature-name`
+3. Edit TypeScript files in `src/`
+4. Test with `npm run dev`
+5. Submit pull request
+
+## License
+
+MIT License - see LICENSE file for details
diff --git a/modules/audio-control/modules/live-max-cc-router/package.json b/modules/audio-control/modules/live-max-cc-router/package.json
new file mode 100644
index 0000000..3d4f1a9
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/package.json
@@ -0,0 +1,63 @@
+{
+  "name": "@oletizi/live-max-cc-router",
+  "version": "1.20.0",
+  "description": "TypeScript-based CC router for Max for Live with controller-specific canonical mappings",
+  "type": "module",
+  "main": "./dist/cc-router.js",
+  "types": "./dist/types.d.ts",
+  "exports": {
+    ".": {
+      "types": "./dist/types.d.ts",
+      "import": "./dist/cc-router.js"
+    }
+  },
+  "files": [
+    "dist",
+    "src",
+    "scripts",
+    "LICENSE"
+  ],
+  "scripts": {
+    "build": "pnpm run convert-maps && node node_modules/rollup/dist/bin/rollup -c",
+    "build:tsc": "tsc -b",
+    "watch": "node node_modules/rollup/dist/bin/rollup -c -w",
+    "dev": "node scripts/watch-deploy.cjs",
+    "clean": "rm -rf dist *.tsbuildinfo",
+    "convert-maps": "node scripts/convert-canonical-maps.cjs",
+    "deploy": "pnpm run build && node scripts/deploy.cjs",
+    "deploy:initial": "node scripts/deploy.cjs",
+    "setup": "node scripts/setup.cjs",
+    "lint": "eslint . --ext .ts,.tsx",
+    "typecheck": "tsc --noEmit",
+    "test": "vitest run"
+  },
+  "keywords": [
+    "max-for-live",
+    "midi",
+    "ableton-live",
+    "launch-control-xl3",
+    "typescript",
+    "canonical-midi-maps",
+    "controller"
+  ],
+  "author": "",
+  "license": "Apache-2.0",
+  "engines": {
+    "node": ">=18",
+    "pnpm": ">=8"
+  },
+  "dependencies": {
+    "@oletizi/canonical-midi-maps": "workspace:*",
+    "yaml": "^2.8.1"
+  },
+  "devDependencies": {
+    "@rollup/plugin-node-resolve": "^16.0.1",
+    "@rollup/plugin-typescript": "^12.1.4",
+    "@types/node": "^20.11.0",
+    "chokidar": "^3.5.3",
+    "rollup": "^2.79.2",
+    "rollup-plugin-terser": "^7.0.2",
+    "typescript": "^5.3.3",
+    "vitest": "^1.2.0"
+  }
+}
diff --git a/modules/audio-control/modules/live-max-cc-router/rollup.config.js b/modules/audio-control/modules/live-max-cc-router/rollup.config.js
new file mode 100644
index 0000000..4a555c7
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/rollup.config.js
@@ -0,0 +1,37 @@
+import typescript from '@rollup/plugin-typescript';
+import resolve from '@rollup/plugin-node-resolve';
+import { terser } from 'rollup-plugin-terser';
+
+export default {
+  input: 'src/max-integration.ts',
+  output: {
+    file: 'dist/cc-router.js',
+    format: 'es',
+    // No IIFE wrapper - output bare JavaScript for Max
+    // Max's js object needs functions at the top level
+  },
+  treeshake: false, // Disable tree-shaking to preserve all code including unused variables
+  plugins: [
+    resolve(),
+    typescript({
+      tsconfig: './tsconfig.json',
+      outputToFilesystem: true,
+      compilerOptions: {
+        target: 'ES5',
+        module: 'ES2015'
+      }
+    }),
+    // Optional: minification for production builds
+    // terser()
+  ],
+  // Tell Rollup to treat Max globals as external
+  external: [],
+  // Suppress warnings about circular dependencies or unused externals
+  onwarn: function(warning, warn) {
+    // Skip certain warnings
+    if (warning.code === 'CIRCULAR_DEPENDENCY') return;
+    if (warning.code === 'UNUSED_EXTERNAL_IMPORT') return;
+    // Use default for everything else
+    warn(warning);
+  }
+};
\ No newline at end of file
diff --git a/modules/audio-control/modules/live-max-cc-router/scripts/convert-canonical-maps.cjs b/modules/audio-control/modules/live-max-cc-router/scripts/convert-canonical-maps.cjs
new file mode 100644
index 0000000..6b37c23
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/scripts/convert-canonical-maps.cjs
@@ -0,0 +1,219 @@
+#!/usr/bin/env node
+
+const fs = require('fs');
+const path = require('path');
+const yaml = require('yaml');
+
+/**
+ * Convert canonical MIDI map YAML to cc-router JSON format
+ *
+ * Canonical format has:
+ * - controls[].cc: MIDI CC number
+ * - controls[].plugin_parameter: Plugin parameter index (string or number)
+ *
+ * CC-Router format needs:
+ * {
+ *   pluginName: string,
+ *   mappings: {
+ *     [ccNumber]: {
+ *       deviceIndex: 0,
+ *       parameterIndex: number,
+ *       parameterName: string,
+ *       curve: 'linear' | 'exponential' | 'logarithmic'
+ *     }
+ *   }
+ * }
+ */
+
+// Use workspace path for canonical-midi-maps
+const CANONICAL_MAPS_DIR = path.join(__dirname, '../../canonical-midi-maps/maps');
+const OUTPUT_FILE = path.join(__dirname, '../src/canonical-plugin-maps.ts');
+
+function convertCanonicalMap(yamlPath) {
+  const yamlContent = fs.readFileSync(yamlPath, 'utf8');
+  const canonical = yaml.parse(yamlContent);
+
+  if (!canonical.plugin || !canonical.controls) {
+    console.warn(`Skipping ${yamlPath}: missing plugin or controls`);
+    return null;
+  }
+
+  const mappings = {};
+
+  for (const control of canonical.controls) {
+    // Skip controls without CC or plugin_parameter
+    if (control.cc === undefined || control.plugin_parameter === undefined) {
+      continue;
+    }
+
+    // Skip button groups (we only handle encoder/slider CC for now)
+    if (control.type === 'button_group') {
+      continue;
+    }
+
+    const ccNumber = control.cc;
+    const paramIndex = typeof control.plugin_parameter === 'string'
+      ? parseInt(control.plugin_parameter, 10)
+      : control.plugin_parameter;
+
+    // Skip special parameters like "bypass", "window"
+    if (isNaN(paramIndex)) {
+      continue;
+    }
+
+    mappings[ccNumber] = {
+      deviceIndex: 1, // Device 1 = first plugin after cc-router (device 0)
+      parameterIndex: paramIndex,
+      parameterName: control.name || `CC ${ccNumber}`,
+      curve: 'linear' // Default curve, could be enhanced later
+    };
+  }
+
+  return {
+    controller: {
+      manufacturer: canonical.device?.manufacturer,
+      model: canonical.device?.model
+    },
+    pluginName: canonical.plugin.name,
+    pluginManufacturer: canonical.plugin.manufacturer,
+    mappings: mappings,
+    metadata: {
+      name: canonical.metadata?.name,
+      description: canonical.metadata?.description,
+      version: canonical.version
+    }
+  };
+}
+
+function findYamlFiles(dir) {
+  const files = [];
+
+  function traverse(currentDir) {
+    const entries = fs.readdirSync(currentDir, { withFileTypes: true });
+
+    for (const entry of entries) {
+      const fullPath = path.join(currentDir, entry.name);
+
+      if (entry.isDirectory()) {
+        traverse(fullPath);
+      } else if (entry.isFile() && entry.name.endsWith('.yaml')) {
+        files.push(fullPath);
+      }
+    }
+  }
+
+  traverse(dir);
+  return files;
+}
+
+function main() {
+  console.log('üîÑ Converting canonical MIDI maps to cc-router format...\n');
+
+  if (!fs.existsSync(CANONICAL_MAPS_DIR)) {
+    console.error(`‚ùå Canonical maps directory not found: ${CANONICAL_MAPS_DIR}`);
+    process.exit(1);
+  }
+
+  const yamlFiles = findYamlFiles(CANONICAL_MAPS_DIR);
+  console.log(`üìÅ Found ${yamlFiles.length} YAML files\n`);
+
+  const pluginMaps = {};
+  let convertedCount = 0;
+
+  for (const yamlPath of yamlFiles) {
+    const relativePath = path.relative(CANONICAL_MAPS_DIR, yamlPath);
+
+    try {
+      const converted = convertCanonicalMap(yamlPath);
+
+      if (converted && converted.pluginName) {
+        // Use controller model + plugin name as key for controller-specific mappings
+        const controllerKey = converted.controller?.model
+          ? converted.controller.model.toLowerCase().replace(/[^a-z0-9]+/g, '-')
+          : 'unknown-controller';
+        const pluginKey = converted.pluginName.toLowerCase().replace(/[^a-z0-9]+/g, '-');
+        const key = `${controllerKey}_${pluginKey}`;
+
+        pluginMaps[key] = converted;
+        convertedCount++;
+        console.log(`‚úÖ ${relativePath} -> ${controllerKey} + ${converted.pluginName}`);
+      }
+    } catch (error) {
+      console.warn(`‚ö†Ô∏è  ${relativePath}: ${error.message}`);
+    }
+  }
+
+  // Extract unique controllers for UI selection
+  const controllers = {};
+  Object.values(pluginMaps).forEach(map => {
+    if (map.controller?.manufacturer && map.controller?.model) {
+      const key = map.controller.model.toLowerCase().replace(/[^a-z0-9]+/g, '-');
+      controllers[key] = {
+        manufacturer: map.controller.manufacturer,
+        model: map.controller.model
+      };
+    }
+  });
+
+  // Generate TypeScript file
+  const tsContent = `/**
+ * Auto-generated from canonical MIDI maps
+ * DO NOT EDIT MANUALLY - Run 'npm run convert-maps' to regenerate
+ */
+
+export interface PluginMapping {
+  controller: {
+    manufacturer?: string;
+    model?: string;
+  };
+  pluginName: string;
+  pluginManufacturer: string;
+  mappings: {
+    [ccNumber: number]: {
+      deviceIndex: number;
+      parameterIndex: number;
+      parameterName: string;
+      curve: 'linear' | 'exponential' | 'logarithmic';
+    };
+  };
+  metadata: {
+    name?: string;
+    description?: string;
+    version?: string;
+  };
+}
+
+export interface Controller {
+  manufacturer: string;
+  model: string;
+}
+
+export const CANONICAL_PLUGIN_MAPS: { [key: string]: PluginMapping } = ${JSON.stringify(pluginMaps, null, 2)};
+
+export const AVAILABLE_CONTROLLERS: { [key: string]: Controller } = ${JSON.stringify(controllers, null, 2)};
+
+/**
+ * Get plugin mapping by controller and plugin name (case-insensitive, fuzzy match)
+ */
+export function getPluginMapping(controllerModel: string, pluginName: string): PluginMapping | undefined {
+  const controllerKey = controllerModel.toLowerCase().replace(/[^a-z0-9]+/g, '-');
+  const pluginKey = pluginName.toLowerCase().replace(/[^a-z0-9]+/g, '-');
+  const key = \`\${controllerKey}_\${pluginKey}\`;
+  return CANONICAL_PLUGIN_MAPS[key];
+}
+
+/**
+ * Get all available controller models
+ */
+export function getAvailableControllers(): Controller[] {
+  return Object.values(AVAILABLE_CONTROLLERS);
+}
+`;
+
+  fs.writeFileSync(OUTPUT_FILE, tsContent, 'utf8');
+
+  console.log(`\n‚úÖ Converted ${convertedCount} plugin maps`);
+  console.log(`üìù Generated: ${OUTPUT_FILE}`);
+}
+
+main();
diff --git a/modules/audio-control/modules/live-max-cc-router/scripts/create-amxd-binary.cjs b/modules/audio-control/modules/live-max-cc-router/scripts/create-amxd-binary.cjs
new file mode 100644
index 0000000..6e99bd4
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/scripts/create-amxd-binary.cjs
@@ -0,0 +1,739 @@
+#!/usr/bin/env node
+
+const fs = require('fs');
+const path = require('path');
+
+// Create proper Max for Live device with binary header
+function createAMXDBinary(deviceContent) {
+  // Convert the device content to JSON string with proper formatting
+  const jsonContent = JSON.stringify(deviceContent, null, '\t');
+  const jsonBuffer = Buffer.from(jsonContent, 'utf8');
+
+  // Create the binary header for .amxd format
+  // This is based on the structure: ampf [size] aaaa meta [size] [1] ptch [size] [json]
+  const header = Buffer.concat([
+    Buffer.from('ampf', 'utf8'),           // File signature
+    Buffer.from([0x04, 0x00, 0x00, 0x00]), // Size field
+    Buffer.from('aaaa', 'utf8'),           // Section marker
+    Buffer.from('meta', 'utf8'),           // Metadata section
+    Buffer.from([0x04, 0x00, 0x00, 0x00]), // Metadata size
+    Buffer.from([0x01, 0x00, 0x00, 0x00]), // Version
+    Buffer.from('ptch', 'utf8'),           // Patch section marker
+  ]);
+
+  // Calculate the size of the JSON content and create size buffer (little-endian)
+  const sizeBuffer = Buffer.allocUnsafe(4);
+  sizeBuffer.writeUInt32LE(jsonBuffer.length, 0);
+
+  // Combine header, size, and JSON content
+  return Buffer.concat([header, sizeBuffer, jsonBuffer]);
+}
+
+// Create the Max for Live device structure
+function createMaxForLiveDevice() {
+  return {
+    "patcher": {
+      "fileversion": 1,
+      "appversion": {
+        "major": 8,
+        "minor": 5,
+        "revision": 6,
+        "architecture": "x64",
+        "modernui": 1
+      },
+      "classnamespace": "box",
+      "rect": [85.0, 104.0, 800.0, 600.0],
+      "bglocked": 0,
+      "openinpresentation": 1,
+      "default_fontsize": 12.0,
+      "default_fontface": 0,
+      "default_fontname": "Arial",
+      "gridonopen": 1,
+      "gridsize": [15.0, 15.0],
+      "gridsnaponopen": 1,
+      "objectsnaponopen": 1,
+      "statusbarvisible": 2,
+      "toolbarvisible": 1,
+      "lefttoolbarpinned": 0,
+      "toptoolbarpinned": 0,
+      "righttoolbarpinned": 0,
+      "bottomtoolbarpinned": 0,
+      "toolbars_unpinned_last_save": 0,
+      "tallnewobj": 0,
+      "boxanimatetime": 200,
+      "enablehscroll": 1,
+      "enablevscroll": 1,
+      "devicewidth": 0.0,
+      "description": "Midi to Plugin Router",
+      "digest": "",
+      "tags": "midi controller",
+      "style": "",
+      "subpatcher_template": "",
+      "assistshowspatchername": 0,
+      "boxes": [
+        // IO Routing JavaScript
+        {
+          "box": {
+            "id": "obj-iorouting",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 2,
+            "outlettype": ["", ""],
+            "patching_rect": [400.0, 60.0, 160.0, 22.0],
+            "saved_object_attributes": {
+              "filename": "ioRouting.js",
+              "parameter_enable": 0
+            },
+            "text": "js ioRouting.js midi_inputs"
+          }
+        },
+        // MIDI Input label
+        {
+          "box": {
+            "id": "obj-midi-label",
+            "maxclass": "comment",
+            "numinlets": 1,
+            "numoutlets": 0,
+            "patching_rect": [400.0, 75.0, 80.0, 20.0],
+            "presentation": 1,
+            "presentation_rect": [165.0, 80.0, 80.0, 15.0],
+            "text": "MIDI Input:",
+            "fontsize": 10.0
+          }
+        },
+        // MIDI Input Type selector
+        {
+          "box": {
+            "id": "obj-midi-type",
+            "maxclass": "live.menu",
+            "numinlets": 1,
+            "numoutlets": 3,
+            "outlettype": ["", "", "float"],
+            "parameter_enable": 1,
+            "patching_rect": [400.0, 90.0, 150.0, 15.0],
+            "presentation": 1,
+            "presentation_rect": [240.0, 80.0, 100.0, 15.0],
+            "saved_attribute_attributes": {
+              "valueof": {
+                "parameter_enum": ["All Ins"],
+                "parameter_invisible": 1,
+                "parameter_linknames": 0,
+                "parameter_longname": "MIDI Input",
+                "parameter_modmode": 0,
+                "parameter_shortname": "MIDI Input",
+                "parameter_type": 2
+              }
+            },
+            "varname": "MIDI Input Type"
+          }
+        },
+        // Prepend settype for ioRouting
+        {
+          "box": {
+            "id": "obj-prepend-settype",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": [""],
+            "patching_rect": [400.0, 110.0, 90.0, 22.0],
+            "text": "prepend settype"
+          }
+        },
+        // live.thisdevice for initialization
+        {
+          "box": {
+            "id": "obj-thisdevice2",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 2,
+            "outlettype": ["", ""],
+            "patching_rect": [400.0, 10.0, 110.0, 22.0],
+            "text": "live.thisdevice"
+          }
+        },
+        // Init message triggered by live.thisdevice bang
+        {
+          "box": {
+            "id": "obj-init-msg",
+            "maxclass": "message",
+            "numinlets": 2,
+            "numoutlets": 1,
+            "outlettype": [""],
+            "patching_rect": [400.0, 35.0, 29.0, 22.0],
+            "text": "init"
+          }
+        },
+        // Delay for initial menu selection (wait for ioRouting to init)
+        {
+          "box": {
+            "id": "obj-init-delay",
+            "maxclass": "newobj",
+            "numinlets": 2,
+            "numoutlets": 1,
+            "outlettype": ["bang"],
+            "patching_rect": [440.0, 35.0, 50.0, 22.0],
+            "text": "del 100"
+          }
+        },
+        // Message to select first menu item (0 = "All Ins")
+        {
+          "box": {
+            "id": "obj-default-selection",
+            "maxclass": "message",
+            "numinlets": 2,
+            "numoutlets": 1,
+            "outlettype": [""],
+            "patching_rect": [440.0, 60.0, 20.0, 22.0],
+            "text": "0"
+          }
+        },
+        // Title in presentation
+        {
+          "box": {
+            "fontface": 1,
+            "fontsize": 14.0,
+            "id": "obj-title",
+            "maxclass": "comment",
+            "numinlets": 1,
+            "numoutlets": 0,
+            "patching_rect": [15.0, 10.0, 300.0, 22.0],
+            "presentation": 1,
+            "presentation_rect": [10.0, 10.0, 300.0, 22.0],
+            "text": "Midi to Plugin Router"
+          }
+        },
+        // Status LED
+        {
+          "box": {
+            "id": "obj-status-led",
+            "maxclass": "led",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": ["int"],
+            "patching_rect": [350.0, 10.0, 24.0, 24.0],
+            "presentation": 1,
+            "presentation_rect": [320.0, 12.0, 20.0, 20.0],
+            "parameter_enable": 0,
+            "oncolor": [0.0, 1.0, 0.0, 1.0]
+          }
+        },
+        // Info text
+        {
+          "box": {
+            "id": "obj-info",
+            "maxclass": "comment",
+            "numinlets": 1,
+            "numoutlets": 0,
+            "patching_rect": [15.0, 35.0, 400.0, 20.0],
+            "presentation": 1,
+            "presentation_rect": [10.0, 35.0, 250.0, 20.0],
+            "text": "Routes CC 13-20 to device parameters"
+          }
+        },
+        // Build timestamp
+        {
+          "box": {
+            "id": "obj-build-time",
+            "maxclass": "comment",
+            "fontsize": 9.0,
+            "textcolor": [0.5, 0.5, 0.5, 1.0],
+            "numinlets": 1,
+            "numoutlets": 0,
+            "patching_rect": [350.0, 35.0, 200.0, 17.0],
+            "presentation": 1,
+            "presentation_rect": [265.0, 38.0, 75.0, 15.0],
+            "text": "Build: --:--:--"
+          }
+        },
+        // Auto Map button
+        {
+          "box": {
+            "id": "obj-automap-btn",
+            "maxclass": "button",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": ["bang"],
+            "patching_rect": [600.0, 10.0, 24.0, 24.0],
+            "presentation": 1,
+            "presentation_rect": [10.0, 100.0, 50.0, 20.0],
+            "parameter_enable": 0
+          }
+        },
+        // Auto Map message
+        {
+          "box": {
+            "id": "obj-automap-msg",
+            "maxclass": "message",
+            "numinlets": 2,
+            "numoutlets": 1,
+            "outlettype": [""],
+            "patching_rect": [600.0, 40.0, 60.0, 22.0],
+            "text": "automap"
+          }
+        },
+        // Auto Map label
+        {
+          "box": {
+            "id": "obj-automap-label",
+            "maxclass": "comment",
+            "numinlets": 1,
+            "numoutlets": 0,
+            "patching_rect": [630.0, 10.0, 80.0, 20.0],
+            "presentation": 1,
+            "presentation_rect": [65.0, 102.0, 60.0, 18.0],
+            "text": "Auto Map",
+            "fontsize": 10.0
+          }
+        },
+        // Controller selection label
+        {
+          "box": {
+            "id": "obj-controller-label",
+            "maxclass": "comment",
+            "numinlets": 1,
+            "numoutlets": 0,
+            "patching_rect": [700.0, 10.0, 80.0, 20.0],
+            "presentation": 1,
+            "presentation_rect": [140.0, 102.0, 65.0, 18.0],
+            "text": "Controller:",
+            "fontsize": 10.0
+          }
+        },
+        // Controller selection menu
+        {
+          "box": {
+            "id": "obj-controller-menu",
+            "maxclass": "umenu",
+            "numinlets": 1,
+            "numoutlets": 3,
+            "outlettype": ["int", "", ""],
+            "patching_rect": [700.0, 40.0, 200.0, 22.0],
+            "presentation": 1,
+            "presentation_rect": [205.0, 100.0, 135.0, 22.0],
+            "parameter_enable": 0,
+            "items": ["Launch Control XL 3"]
+          }
+        },
+        // Controller selection message formatter
+        {
+          "box": {
+            "id": "obj-controller-format",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": [""],
+            "patching_rect": [700.0, 70.0, 150.0, 22.0],
+            "text": "prepend setcontroller"
+          }
+        },
+        // Debug display
+        {
+          "box": {
+            "id": "obj-debug-display",
+            "maxclass": "comment",
+            "bgcolor": [0.2, 0.2, 0.2, 1.0],
+            "textcolor": [0.0, 1.0, 0.0, 1.0],
+            "fontname": "Courier",
+            "fontsize": 10.0,
+            "numinlets": 1,
+            "numoutlets": 0,
+            "patching_rect": [15.0, 60.0, 500.0, 18.0],
+            "presentation": 1,
+            "presentation_rect": [10.0, 58.0, 330.0, 18.0],
+            "text": "Waiting for MIDI..."
+          }
+        },
+        // live.thisdevice to detect when Live API is ready
+        {
+          "box": {
+            "id": "obj-thisdevice",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 2,
+            "outlettype": ["", ""],
+            "patching_rect": [15.0, 150.0, 110.0, 22.0],
+            "text": "live.thisdevice"
+          }
+        },
+        // V8 JavaScript object with correct path (3 outlets: debug, build-time, extra)
+        // Now has 2 inlets: inlet 0 for MIDI, inlet 1 for live.thisdevice notifications
+        {
+          "box": {
+            "id": "obj-js",
+            "maxclass": "newobj",
+            "numinlets": 2,
+            "numoutlets": 3,
+            "outlettype": ["", "", ""],
+            "patching_rect": [15.0, 200.0, 200.0, 22.0],
+            "saved_object_attributes": {
+              "autowatch": 1,
+              "filename": "cc-router.js",
+              "parameter_enable": 0
+            },
+            "text": "v8 cc-router.js @autowatch 1"
+          }
+        },
+        // MIDI input - receives routed MIDI
+        {
+          "box": {
+            "id": "obj-midiin",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": ["int"],
+            "patching_rect": [15.0, 60.0, 60.0, 22.0],
+            "text": "midiin"
+          }
+        },
+        // Parse MIDI into controller messages
+        {
+          "box": {
+            "id": "obj-midiparse",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 7,
+            "outlettype": ["", "", "", "int", "int", "int", "int"],
+            "patching_rect": [15.0, 90.0, 100.0, 22.0],
+            "text": "midiparse"
+          }
+        },
+        // MIDI output - pass MIDI to next device
+        {
+          "box": {
+            "id": "obj-midiout",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 0,
+            "patching_rect": [150.0, 120.0, 55.0, 22.0],
+            "text": "midiout"
+          }
+        },
+        // Debug message for MIDI input
+        {
+          "box": {
+            "id": "obj-debug-midi",
+            "maxclass": "message",
+            "numinlets": 2,
+            "numoutlets": 1,
+            "outlettype": [""],
+            "patching_rect": [230.0, 160.0, 200.0, 22.0],
+            "text": "MIDI: $1 $2 $3"
+          }
+        },
+        // Send to debug display
+        {
+          "box": {
+            "id": "obj-debug-format",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": [""],
+            "patching_rect": [230.0, 185.0, 150.0, 22.0],
+            "text": "prepend set"
+          }
+        },
+        // LED blink on MIDI
+        {
+          "box": {
+            "id": "obj-led-blink",
+            "maxclass": "newobj",
+            "numinlets": 2,
+            "numoutlets": 1,
+            "outlettype": ["bang"],
+            "patching_rect": [350.0, 120.0, 60.0, 22.0],
+            "text": "del 100"
+          }
+        },
+        // Loadbang
+        {
+          "box": {
+            "id": "obj-loadbang",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": ["bang"],
+            "patching_rect": [15.0, 250.0, 60.0, 22.0],
+            "text": "loadbang"
+          }
+        },
+        // Loadbang message
+        {
+          "box": {
+            "id": "obj-loadmsg",
+            "maxclass": "message",
+            "numinlets": 2,
+            "numoutlets": 1,
+            "outlettype": [""],
+            "patching_rect": [15.0, 280.0, 60.0, 22.0],
+            "text": "loadbang"
+          }
+        },
+        // Audio inputs for pass-through
+        {
+          "box": {
+            "id": "obj-in-1",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": ["signal"],
+            "patching_rect": [500.0, 50.0, 50.0, 22.0],
+            "text": "in~ 1"
+          }
+        },
+        {
+          "box": {
+            "id": "obj-in-2",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": ["signal"],
+            "patching_rect": [560.0, 50.0, 50.0, 22.0],
+            "text": "in~ 2"
+          }
+        },
+        // Audio outputs for pass-through
+        {
+          "box": {
+            "id": "obj-out-1",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 0,
+            "patching_rect": [500.0, 200.0, 50.0, 22.0],
+            "text": "out~ 1"
+          }
+        },
+        {
+          "box": {
+            "id": "obj-out-2",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 0,
+            "patching_rect": [560.0, 200.0, 50.0, 22.0],
+            "text": "out~ 2"
+          }
+        }
+      ],
+      "lines": [
+        // thisdevice2 bang to init message
+        {
+          "patchline": {
+            "destination": ["obj-init-msg", 0],
+            "source": ["obj-thisdevice2", 0]
+          }
+        },
+        // thisdevice2 bang to delay (for default menu selection)
+        {
+          "patchline": {
+            "destination": ["obj-init-delay", 0],
+            "source": ["obj-thisdevice2", 0]
+          }
+        },
+        // delay to default selection message
+        {
+          "patchline": {
+            "destination": ["obj-default-selection", 0],
+            "source": ["obj-init-delay", 0]
+          }
+        },
+        // default selection to menu
+        {
+          "patchline": {
+            "destination": ["obj-midi-type", 0],
+            "source": ["obj-default-selection", 0]
+          }
+        },
+        // init message to ioRouting
+        {
+          "patchline": {
+            "destination": ["obj-iorouting", 0],
+            "source": ["obj-init-msg", 0]
+          }
+        },
+        // ioRouting outlet 0 to MIDI type menu (populates menu options)
+        {
+          "patchline": {
+            "destination": ["obj-midi-type", 0],
+            "source": ["obj-iorouting", 0]
+          }
+        },
+        // MIDI type menu to prepend settype
+        {
+          "patchline": {
+            "destination": ["obj-prepend-settype", 0],
+            "source": ["obj-midi-type", 0]
+          }
+        },
+        // prepend settype to ioRouting (formatted message)
+        {
+          "patchline": {
+            "destination": ["obj-iorouting", 0],
+            "source": ["obj-prepend-settype", 0]
+          }
+        },
+        // midiin to midiparse
+        {
+          "patchline": {
+            "destination": ["obj-midiparse", 0],
+            "source": ["obj-midiin", 0]
+          }
+        },
+        // midiin to midiout (pass through)
+        {
+          "patchline": {
+            "destination": ["obj-midiout", 0],
+            "source": ["obj-midiin", 0]
+          }
+        },
+        // midiparse controller output (outlet 2) to JS
+        {
+          "patchline": {
+            "destination": ["obj-js", 0],
+            "source": ["obj-midiparse", 2]
+          }
+        },
+        // midiparse controller to debug message
+        {
+          "patchline": {
+            "destination": ["obj-debug-midi", 0],
+            "source": ["obj-midiparse", 2]
+          }
+        },
+        // midiparse controller to LED (turn on)
+        {
+          "patchline": {
+            "destination": ["obj-status-led", 0],
+            "source": ["obj-midiparse", 2]
+          }
+        },
+        // midiparse controller to LED blink delay
+        {
+          "patchline": {
+            "destination": ["obj-led-blink", 0],
+            "source": ["obj-midiparse", 2]
+          }
+        },
+        // Debug message to format
+        {
+          "patchline": {
+            "destination": ["obj-debug-format", 0],
+            "source": ["obj-debug-midi", 0]
+          }
+        },
+        // Format to display
+        {
+          "patchline": {
+            "destination": ["obj-debug-display", 0],
+            "source": ["obj-debug-format", 0]
+          }
+        },
+        // LED blink turns off LED
+        {
+          "patchline": {
+            "destination": ["obj-status-led", 0],
+            "source": ["obj-led-blink", 0]
+          }
+        },
+        // Loadbang to message
+        {
+          "patchline": {
+            "destination": ["obj-loadmsg", 0],
+            "source": ["obj-loadbang", 0]
+          }
+        },
+        // Loadbang message to JS inlet 0 (for loadbang function)
+        {
+          "patchline": {
+            "destination": ["obj-js", 0],
+            "source": ["obj-loadmsg", 0]
+          }
+        },
+        // live.thisdevice outlet 0 to JS inlet 1 (for Live API ready notification)
+        {
+          "patchline": {
+            "destination": ["obj-js", 1],
+            "source": ["obj-thisdevice", 0]
+          }
+        },
+        // JS outlet 0 to debug display (for status messages from JS)
+        {
+          "patchline": {
+            "destination": ["obj-debug-display", 0],
+            "source": ["obj-js", 0]
+          }
+        },
+        // JS outlet 1 to build time display
+        {
+          "patchline": {
+            "destination": ["obj-build-time", 0],
+            "source": ["obj-js", 1]
+          }
+        },
+        // Auto Map button to message
+        {
+          "patchline": {
+            "destination": ["obj-automap-msg", 0],
+            "source": ["obj-automap-btn", 0]
+          }
+        },
+        // Auto Map message to JS inlet 0
+        {
+          "patchline": {
+            "destination": ["obj-js", 0],
+            "source": ["obj-automap-msg", 0]
+          }
+        },
+        // Controller menu to formatter
+        {
+          "patchline": {
+            "destination": ["obj-controller-format", 0],
+            "source": ["obj-controller-menu", 1]
+          }
+        },
+        // Controller formatter to JS inlet 0
+        {
+          "patchline": {
+            "destination": ["obj-js", 0],
+            "source": ["obj-controller-format", 0]
+          }
+        },
+        // Audio pass-through
+        {
+          "patchline": {
+            "destination": ["obj-out-1", 0],
+            "source": ["obj-in-1", 0]
+          }
+        },
+        {
+          "patchline": {
+            "destination": ["obj-out-2", 0],
+            "source": ["obj-in-2", 0]
+          }
+        }
+      ],
+      "parameters": {},
+      "dependency_cache": [
+        {
+          "name": "cc-router.js",
+          "bootpath": ".",
+          "patcherrelativepath": ".",
+          "type": "TEXT",
+          "implicit": 1
+        },
+        {
+          "name": "ioRouting.js",
+          "bootpath": ".",
+          "patcherrelativepath": ".",
+          "type": "TEXT",
+          "implicit": 1
+        }
+      ],
+      "autosave": 0
+    }
+  };
+}
+
+// Export functions
+module.exports = {
+  createAMXDBinary,
+  createMaxForLiveDevice
+};
\ No newline at end of file
diff --git a/modules/audio-control/modules/live-max-cc-router/scripts/create-amxd.cjs b/modules/audio-control/modules/live-max-cc-router/scripts/create-amxd.cjs
new file mode 100644
index 0000000..661ab2f
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/scripts/create-amxd.cjs
@@ -0,0 +1,263 @@
+// Create proper Max for Live Audio Effect device structure
+
+function createMaxForLiveDevice() {
+  return {
+    "patcher": {
+      "fileversion": 1,
+      "appversion": {
+        "major": 8,
+        "minor": 5,
+        "revision": 6,
+        "architecture": "x64",
+        "modernui": 1
+      },
+      "classnamespace": "box",
+      "rect": [59.0, 106.0, 800.0, 600.0],
+      "bglocked": 0,
+      "openinpresentation": 1,
+      "default_fontsize": 12.0,
+      "default_fontface": 0,
+      "default_fontname": "Arial",
+      "gridonopen": 1,
+      "gridsize": [15.0, 15.0],
+      "gridsnaponopen": 1,
+      "objectsnaponopen": 1,
+      "statusbarvisible": 2,
+      "toolbarvisible": 1,
+      "lefttoolbarpinned": 0,
+      "toptoolbarpinned": 0,
+      "righttoolbarpinned": 0,
+      "bottomtoolbarpinned": 0,
+      "toolbars_unpinned_last_save": 0,
+      "tallnewobj": 0,
+      "boxanimatetime": 200,
+      "enablehscroll": 1,
+      "enablevscroll": 1,
+      "devicewidth": 0.0,
+      "description": "CC Router for Launch Control XL3",
+      "digest": "",
+      "tags": "midi controller",
+      "style": "",
+      "subpatcher_template": "",
+      "assistshowspatchername": 0,
+      "boxes": [
+        // Title comment
+        {
+          "box": {
+            "id": "obj-1",
+            "maxclass": "comment",
+            "numinlets": 1,
+            "numoutlets": 0,
+            "patching_rect": [15.0, 10.0, 300.0, 20.0],
+            "presentation": 1,
+            "presentation_rect": [10.0, 10.0, 300.0, 20.0],
+            "text": "CC Router for Launch Control XL3",
+            "fontsize": 14.0,
+            "fontface": 1
+          }
+        },
+        // JavaScript object
+        {
+          "box": {
+            "id": "obj-js",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 2,
+            "outlettype": ["", ""],
+            "patching_rect": [15.0, 150.0, 200.0, 22.0],
+            "saved_object_attributes": {
+              "autowatch": 1,
+              "filename": "code/cc-router.js",
+              "parameter_enable": 0
+            },
+            "text": "js code/cc-router.js @autowatch 1"
+          }
+        },
+        // MIDI input from Live
+        {
+          "box": {
+            "id": "obj-midiin",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": ["int"],
+            "patching_rect": [15.0, 50.0, 50.0, 22.0],
+            "text": "midiin"
+          }
+        },
+        // MIDI parse
+        {
+          "box": {
+            "id": "obj-midiparse",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 7,
+            "outlettype": ["", "", "", "int", "int", "int", "int"],
+            "patching_rect": [15.0, 80.0, 100.0, 22.0],
+            "text": "midiparse"
+          }
+        },
+        // Route CC messages
+        {
+          "box": {
+            "id": "obj-route",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 2,
+            "outlettype": ["", ""],
+            "patching_rect": [15.0, 110.0, 60.0, 22.0],
+            "text": "route ctl"
+          }
+        },
+        // Audio pass-through (left)
+        {
+          "box": {
+            "id": "obj-plugin-left",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": ["signal"],
+            "patching_rect": [400.0, 100.0, 60.0, 22.0],
+            "text": "plugin~"
+          }
+        },
+        // Audio pass-through (right)
+        {
+          "box": {
+            "id": "obj-plugin-right",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": ["signal"],
+            "patching_rect": [470.0, 100.0, 60.0, 22.0],
+            "text": "plugin~"
+          }
+        },
+        // Audio output (left)
+        {
+          "box": {
+            "id": "obj-out-left",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": ["signal"],
+            "patching_rect": [400.0, 150.0, 60.0, 22.0],
+            "text": "out~ 1"
+          }
+        },
+        // Audio output (right)
+        {
+          "box": {
+            "id": "obj-out-right",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": ["signal"],
+            "patching_rect": [470.0, 150.0, 60.0, 22.0],
+            "text": "out~ 2"
+          }
+        },
+        // Loadbang
+        {
+          "box": {
+            "id": "obj-loadbang",
+            "maxclass": "newobj",
+            "numinlets": 1,
+            "numoutlets": 1,
+            "outlettype": ["bang"],
+            "patching_rect": [250.0, 50.0, 60.0, 22.0],
+            "text": "loadbang"
+          }
+        },
+        // Loadbang message
+        {
+          "box": {
+            "id": "obj-loadmsg",
+            "maxclass": "message",
+            "numinlets": 2,
+            "numoutlets": 1,
+            "outlettype": [""],
+            "patching_rect": [250.0, 80.0, 60.0, 22.0],
+            "text": "loadbang"
+          }
+        },
+        // Info text
+        {
+          "box": {
+            "id": "obj-info",
+            "maxclass": "comment",
+            "numinlets": 1,
+            "numoutlets": 0,
+            "patching_rect": [15.0, 200.0, 400.0, 20.0],
+            "presentation": 1,
+            "presentation_rect": [10.0, 35.0, 400.0, 20.0],
+            "text": "CC 13-20 ‚Üí Device parameters on selected track",
+            "fontsize": 11.0
+          }
+        }
+      ],
+      "lines": [
+        // MIDI input to parse
+        {
+          "patchline": {
+            "destination": ["obj-midiparse", 0],
+            "source": ["obj-midiin", 0]
+          }
+        },
+        // Parse to route
+        {
+          "patchline": {
+            "destination": ["obj-route", 0],
+            "source": ["obj-midiparse", 2]
+          }
+        },
+        // Route to JS
+        {
+          "patchline": {
+            "destination": ["obj-js", 0],
+            "source": ["obj-route", 0]
+          }
+        },
+        // Audio pass-through left
+        {
+          "patchline": {
+            "destination": ["obj-out-left", 0],
+            "source": ["obj-plugin-left", 0]
+          }
+        },
+        // Audio pass-through right
+        {
+          "patchline": {
+            "destination": ["obj-out-right", 0],
+            "source": ["obj-plugin-right", 0]
+          }
+        },
+        // Loadbang to message
+        {
+          "patchline": {
+            "destination": ["obj-loadmsg", 0],
+            "source": ["obj-loadbang", 0]
+          }
+        },
+        // Loadbang message to JS
+        {
+          "patchline": {
+            "destination": ["obj-js", 0],
+            "source": ["obj-loadmsg", 0]
+          }
+        }
+      ],
+      "parameters": {},
+      "dependency_cache": [
+        {
+          "name": "code/cc-router.js",
+          "type": "TEXT",
+          "implicit": 1
+        }
+      ],
+      "autosave": 0
+    }
+  };
+}
+
+module.exports = { createMaxForLiveDevice };
\ No newline at end of file
diff --git a/modules/audio-control/modules/live-max-cc-router/scripts/deploy.cjs b/modules/audio-control/modules/live-max-cc-router/scripts/deploy.cjs
new file mode 100644
index 0000000..c26aefd
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/scripts/deploy.cjs
@@ -0,0 +1,160 @@
+#!/usr/bin/env node
+
+const fs = require('fs');
+const path = require('path');
+const os = require('os');
+const { createAMXDBinary, createMaxForLiveDevice } = require('./create-amxd-binary.cjs');
+
+// Configuration
+const SOURCE_FILE = path.join(__dirname, '..', 'dist', 'cc-router.js');
+const PROJECT_NAME = 'cc-router';
+
+// Platform-specific Max for Live paths
+function getMaxForLivePaths() {
+  const platform = os.platform();
+  const homeDir = os.homedir();
+  
+  const paths = [];
+  
+  if (platform === 'darwin') { // macOS
+    paths.push(
+      path.join(homeDir, 'Music', 'Ableton', 'User Library', 'Presets', 'Audio Effects', 'Max Audio Effect'),
+      path.join(homeDir, 'Documents', 'Max 8', 'Projects'),
+      path.join(homeDir, 'Documents', 'Max 9', 'Projects'),
+      path.join('/Applications', 'Max.app', 'Contents', 'Resources', 'C74', 'projects')
+    );
+  } else if (platform === 'win32') { // Windows
+    paths.push(
+      path.join(homeDir, 'Documents', 'Ableton', 'User Library', 'Presets', 'Audio Effects', 'Max Audio Effect'),
+      path.join(homeDir, 'Documents', 'Max 8', 'Projects'),
+      path.join(homeDir, 'Documents', 'Max 9', 'Projects'),
+      path.join('C:', 'Program Files', 'Cycling \'74', 'Max 8', 'projects'),
+      path.join('C:', 'Program Files', 'Cycling \'74', 'Max 9', 'projects')
+    );
+  }
+  
+  return paths;
+}
+
+// Find the best deployment location
+function findDeploymentPath() {
+  const possiblePaths = getMaxForLivePaths();
+  
+  for (const basePath of possiblePaths) {
+    if (fs.existsSync(basePath)) {
+      const targetDir = path.join(basePath, PROJECT_NAME);
+      return { basePath, targetDir };
+    }
+  }
+  
+  return null;
+}
+
+// Create deployment directory structure
+function createProjectStructure(targetDir) {
+  const dirs = [
+    targetDir,
+    path.join(targetDir, 'code'),
+    path.join(targetDir, 'docs')
+  ];
+  
+  dirs.forEach(dir => {
+    if (!fs.existsSync(dir)) {
+      fs.mkdirSync(dir, { recursive: true });
+      console.log(`Created directory: ${dir}`);
+    }
+  });
+}
+
+// Copy files to deployment location
+function deployFiles(targetDir) {
+  const deployments = [
+    {
+      source: SOURCE_FILE,
+      target: path.join(targetDir, 'cc-router.js'),
+      description: 'Main CC Router JavaScript'
+    },
+    {
+      source: path.join(__dirname, 'ioRouting.js'),
+      target: path.join(targetDir, 'ioRouting.js'),
+      description: 'MIDI Routing Helper'
+    },
+    {
+      source: path.join(__dirname, '..', 'README.md'),
+      target: path.join(targetDir, 'docs', 'README.md'),
+      description: 'Documentation'
+    }
+  ];
+
+  deployments.forEach(({ source, target, description }) => {
+    if (fs.existsSync(source)) {
+      fs.copyFileSync(source, target);
+      console.log(`‚úÖ Deployed: ${description} -> ${target}`);
+    } else {
+      console.log(`‚ö†Ô∏è  Source not found: ${source}`);
+    }
+  });
+}
+
+// Create a Max for Live Audio Effect device
+function createMaxDevice(targetDir) {
+  const deviceContent = createMaxForLiveDevice();
+  const binaryContent = createAMXDBinary(deviceContent);
+
+  const devicePath = path.join(targetDir, 'cc-router.amxd');
+  fs.writeFileSync(devicePath, binaryContent);
+  console.log(`‚úÖ Created Max for Live device: ${devicePath}`);
+}
+
+// Main deployment function
+function deploy() {
+  console.log('üöÄ Deploying CC Router to Max for Live...\n');
+  
+  // Check if compiled JavaScript exists
+  if (!fs.existsSync(SOURCE_FILE)) {
+    console.error(`‚ùå Compiled JavaScript not found: ${SOURCE_FILE}`);
+    console.log('Run "npm run build" first to compile TypeScript.');
+    process.exit(1);
+  }
+  
+  // Find deployment location
+  const deploymentInfo = findDeploymentPath();
+  if (!deploymentInfo) {
+    console.error('‚ùå Could not find Max for Live installation path.');
+    console.log('Please ensure Max for Live is installed and try again.');
+    process.exit(1);
+  }
+  
+  const { basePath, targetDir } = deploymentInfo;
+  console.log(`üìÅ Deploying to: ${targetDir}`);
+  console.log(`üìç Base path: ${basePath}\n`);
+  
+  // Create project structure
+  createProjectStructure(targetDir);
+  
+  // Deploy files
+  deployFiles(targetDir);
+  
+  // Create Max for Live device
+  createMaxDevice(targetDir);
+  
+  console.log('\n‚úÖ Deployment complete!');
+  console.log('\nNext steps:');
+  console.log('1. Open Max for Live');
+  console.log(`2. Navigate to: ${targetDir}`);
+  console.log('3. Drag cc-router.amxd to an audio track');
+  console.log('4. Save as an Audio Effect in your Live set');
+  console.log('5. Send MIDI CC messages to the device');
+  
+  console.log('\nDevelopment workflow:');
+  console.log('- Edit TypeScript files in src/');
+  console.log('- Run "npm run watch" for auto-compilation');
+  console.log('- Run "npm run deploy" to update Max device');
+}
+
+// Run deployment
+if (require.main === module) {
+  deploy();
+}
+
+module.exports = { deploy, getMaxForLivePaths, findDeploymentPath };
diff --git a/modules/audio-control/modules/live-max-cc-router/scripts/ioRouting.cjs b/modules/audio-control/modules/live-max-cc-router/scripts/ioRouting.cjs
new file mode 100644
index 0000000..1cbb5a7
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/scripts/ioRouting.cjs
@@ -0,0 +1,210 @@
+/**
+ * ioRouting.js
+ * 
+ * @description manage live.menu objects to select Audio/MIDI IO routing for Max for Live devices
+ * @author h1data
+ * @version 1.1.1 December 26, 2024
+ * @since 2021
+ * 
+ * @arguments js ioRouting.js ioType [channelOffset]
+ * @argument {string} ioType midi_inputs, midi_outputs, audio_inputs, or audio_outputs
+ * @argument {number} channelOffset (optional) channel number in multiple channel pairs (zero-based counting)
+ */
+
+autowatch = 1;
+inlets = 1;
+outlets = 2;
+
+var lomTypes = null;
+var lomChannels = null;
+var lomRoutingType = null;
+var lomRoutingChannel = null;
+var lomThisTrack = null;
+var isInitialized = false;
+
+/**
+ * Initialize Live API objects.
+ * Must be triggered by live.thisdevice, not by loadbang nor loadmess.
+ */ 
+function init() {
+  if (jsarguments.length < 2 || jsarguments.length > 3) {
+    error('invalid number of arguments. usage:', jsarguments[0], 'ioType (i.e. midi_inputs) [channelOffset]\n');
+    return;
+  }
+  var channelOffset = 0;
+  if (jsarguments.length >= 3) channelOffset = jsarguments[2];
+  var path = 'this_device ' + jsarguments[1] + ' ' + channelOffset;
+  lomThisTrack = new LiveAPI();
+  lomTypes = new LiveAPI(callbackTypes, path);
+  lomTypes.property = 'available_routing_types';
+  lomChannels = new LiveAPI(callbackChannels, path);
+  lomChannels.property = 'available_routing_channels';
+  lomRoutingType = new LiveAPI(callbackRoutingType, path);
+  lomRoutingType.property = 'routing_type';
+  lomRoutingChannel = new LiveAPI(callbackRoutingChannel, path);
+  lomRoutingChannel.property = 'routing_channel';
+  isInitialized = true;
+}
+
+callbackTypes.local = 1;
+/**
+ * Change live.menu list with available routing types.
+ * Triggered by callback from LiveAPI. (available_routing_types)
+ * @private
+ * @param {Array} arg ['id', (number)] or
+ * ['available_routing_types', {'available_routing_types', [{'display_name': (string), 'identifier': (number)}, ...]}]
+ */
+function callbackTypes(arg) {
+  if (arg[1].available_routing_types != undefined) {
+    var range = [];
+    for (var i=0; i<arg[1].available_routing_types.length; i++) {
+        range.push(arg[1].available_routing_types[i].display_name);
+    }
+    outlet(0, '_parameter_range', range); // !!!UNOFFICIAL ATTRIBUTE!!!
+  }
+}
+
+callbackChannels.local = 1;
+/**
+ * Change live.menu list with available routing channels.
+ * Triggered by callback from LiveAPI. (available_routing_channels)
+ * @private
+ * @param {Array} arg ['id', (number)] or
+ * ['available_routing_channels', {'available_routing_channels': [{'display_name': (string), 'identifier': (number)}, ...]}]
+ */
+function callbackChannels(arg) {
+  if (arg[1].available_routing_channels != undefined) {
+    var range = [];
+    if (arg[1].available_routing_channels.length == 0) {
+      // no available channels; when previous routing device has been disabled
+      var type = JSON.parse(lomTypes.get('available_routing_types')).available_routing_types;
+      if (type != undefined && type.length > 0) {
+        // set type list to the last item of available types; 'No Input' or 'No Output'
+        outlet(0, 'setsymbol', type[type.length - 1].display_name);
+      }
+      outlet(1, '_parameter_range', ['-', '-']);
+      outlet(1, 'ignoreclick', 1);
+      outlet(1, 'active', 0);
+    } else if (arg[1].available_routing_channels.length == 1) {
+      if(arg[1].available_routing_channels[0].display_name == '') {
+        // when channel name is blank ('No Input'/'No Output')
+        outlet(1, '_parameter_range', ['-', '-']);
+      } else {
+        // when one channel (i.e. 'Track In') only
+        outlet(1, '_parameter_range', [arg[1].available_routing_channels[0].display_name, '-']);
+      }
+      outlet(1, 'ignoreclick', 1);
+      outlet(1, 'active', 0);
+    } else {
+      for (var i=0; i<arg[1].available_routing_channels.length; i++) {
+        range.push(arg[1].available_routing_channels[i].display_name);
+      }
+      outlet(1, '_parameter_range', range);
+      outlet(1, 'active', 1);
+      outlet(1, 'ignoreclick', 0);
+    }
+  }
+}
+
+callbackRoutingType.local = 1;
+/**
+ * select live.menu's item by current routing type
+ * triggered by callback of LiveAPI (routing_type)
+ * @private
+ * @param arg dictionary of routing type within an Array
+ * ['id', (number)] or ['routing_type', {'routing_type': {'display_name': (string), 'identifier': (number)}}]
+ */
+function callbackRoutingType(arg) {
+  // only accepts when 'routing_type'
+  if (arg[1].routing_type !== undefined) {
+    outlet(0, 'setsymbol', arg[1].routing_type.display_name);
+  }
+}
+
+callbackRoutingChannel.local = 1;
+/**
+ * select live.menu's item by current routing channel
+ * triggered by callback of LiveAPI (routing_channel)
+ * @private
+ * @param {Array} arg dictionary of routing channel within an Array
+ * ['id', (number)] or ['routing_channel', {'routing_channel', {'display_name': (string), 'identifier': (number)}}]
+ */
+function callbackRoutingChannel(arg) {
+  // only accepts when 'routing_channel'
+  if (arg[1].routing_channel !== undefined) {
+    outlet(1, 'setsymbol', arg[1].routing_channel.display_name);
+  }
+}
+
+/**
+ * change routing type
+ * @param {number} id target item number of routing type list (zero-based counting)
+ */
+function settype(id) {
+  if (!isInitialized) {
+    error('Called settype before init. Make sure to call init triggered by live.thisdevice and to set attributes of live.menu for routing types to the below.\nParameter Visibility -> hidden\nInitial Enable -> false\n');
+    return;
+  }
+  if ((typeof id !== 'number') || !isFinite(id)) {
+    error('Invalid argument for settype:', id, '\nMake sure to input from left outlet of live.menu (item index).');
+    return;
+  }
+  var mapTypes = JSON.parse(lomTypes.get('available_routing_types')).available_routing_types;
+  if (mapTypes[id] != undefined) {
+    lomRoutingType.set('routing_type', mapTypes[id]);
+  } else {
+    error('Invalid Routing Type:', id, '\n');
+  }
+}
+
+/**
+ * change routing channel
+ * @param {number} id target item number of routing channel list (zero-based counting)
+ */
+function setchannel(id) {
+  if (!isInitialized) {
+    error('Called setchannel before init. Make sure to call init triggered by live.thisdevice and to set attributes of live.menu for routing channels to the below.\n  Parameter Visibility -> hidden\n  Initial Enable -> false\n');
+    return;
+  }
+  if ((typeof id !== 'number') || !isFinite(id)) {
+    error('Invalid argument for setchannel:', id, '\nMake sure to input from left outlet of live.menu (item index).');
+    return;
+  }
+  var mapChannels = lomChannels.get('available_routing_channels');
+  mapChannels = JSON.parse(mapChannels).available_routing_channels;
+  if (mapChannels[id] != undefined) {
+    lomRoutingChannel.set('routing_channel', mapChannels[id]);
+  } else {
+    error('Invalid Routing Channel:', id, '\n');
+  }
+}
+
+/**
+ * Automatically route MIDI input to MIDI track where the device belong to.
+ * @param {number} forceRouting 1: force to change routing, not 1: change routing when the input is selected to 'No Input'
+ */
+function routethistrack(forceRouting) {
+  if (jsarguments[1] !== 'midi_inputs') return;
+  if (!isInitialized) {
+    error('Called routethistrack before init. Make sure to call init triggered by live.thisdevice.');
+    return;
+  }
+  var routingType = JSON.parse(lomRoutingType.get('routing_type')).routing_type;
+  var routingTypes = JSON.parse(lomTypes.get('available_routing_types')).available_routing_types;
+  // ignores if forceRouting attribute is not number. '1' (string) is acceptable.
+  if (forceRouting != 1 && routingType.identifier != routingTypes[routingTypes.length - 1].identifier) return;
+
+  lomThisTrack.goto('this_device');
+  // estimated path: live_set tracks n,live_set return_tracks n, live_set master_track
+  lomThisTrack.goto(lomThisTrack.path.replace('"', '').match(/^.+tracks? \d*/)[0]);
+  if (lomThisTrack.get('has_midi_input') != 1) return;
+  var inputTypes = JSON.parse(lomThisTrack.get('available_input_routing_types')).available_input_routing_types;
+  for (var i=0; i<routingTypes.length; i++) {
+    if (inputTypes[i] == undefined || routingTypes[i].identifier != inputTypes[i].identifier) {
+      if (routingType.identifier == routingTypes[i].identifier) return;
+      lomRoutingType.set('routing_type', routingTypes[i]);
+      setchannel(0);
+      return;
+    }
+  }
+}
diff --git a/modules/audio-control/modules/live-max-cc-router/scripts/setup.cjs b/modules/audio-control/modules/live-max-cc-router/scripts/setup.cjs
new file mode 100644
index 0000000..096c84b
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/scripts/setup.cjs
@@ -0,0 +1,168 @@
+#!/usr/bin/env node
+
+const fs = require('fs');
+const path = require('path');
+const { execSync } = require('child_process');
+
+// Setup configuration
+function setup() {
+  console.log('üéõÔ∏è  CC Router TypeScript Setup\n');
+  
+  // Check Node.js version
+  const nodeVersion = process.version;
+  const majorVersion = parseInt(nodeVersion.slice(1).split('.')[0]);
+  
+  if (majorVersion < 16) {
+    console.error('‚ùå Node.js 16+ required. Current version:', nodeVersion);
+    process.exit(1);
+  }
+  
+  console.log('‚úÖ Node.js version:', nodeVersion);
+  
+  // Install dependencies
+  console.log('\nüì¶ Installing dependencies...');
+  try {
+    execSync('npm install', { stdio: 'inherit' });
+    console.log('‚úÖ Dependencies installed');
+  } catch (error) {
+    console.error('‚ùå Failed to install dependencies');
+    process.exit(1);
+  }
+  
+  // Create necessary directories
+  const dirs = ['dist', 'src'];
+  dirs.forEach(dir => {
+    if (!fs.existsSync(dir)) {
+      fs.mkdirSync(dir, { recursive: true });
+      console.log(`‚úÖ Created directory: ${dir}`);
+    }
+  });
+  
+  // Compile TypeScript
+  console.log('\nüî® Compiling TypeScript...');
+  try {
+    execSync('npm run build', { stdio: 'inherit' });
+    console.log('‚úÖ TypeScript compiled successfully');
+  } catch (error) {
+    console.error('‚ùå TypeScript compilation failed');
+    process.exit(1);
+  }
+  
+  // Deploy to Max for Live
+  console.log('\nüöÄ Deploying to Max for Live...');
+  try {
+    execSync('npm run copy-to-max', { stdio: 'inherit' });
+    console.log('‚úÖ Deployed to Max for Live');
+  } catch (error) {
+    console.warn('‚ö†Ô∏è  Deployment to Max for Live failed - you can deploy manually later');
+  }
+  
+  // Create development files
+  createDevelopmentFiles();
+  
+  console.log('\nüéâ Setup complete!\n');
+  console.log('Next steps:');
+  console.log('1. npm run watch    # Start TypeScript watch mode');
+  console.log('2. Open Max for Live');
+  console.log('3. Load the cc-router.maxpat file');
+  console.log('4. Connect your Launch Control XL3');
+  console.log('5. Start mapping!\n');
+  
+  console.log('Commands:');
+  console.log('- npm run build     # Compile TypeScript');
+  console.log('- npm run watch     # Auto-compile on changes');
+  console.log('- npm run deploy    # Deploy to Max for Live');
+  console.log('- npm run dev       # Watch + notifications');
+}
+
+function createDevelopmentFiles() {
+  // Create a simple development guide
+  const devGuide = `# CC Router Development Guide
+
+## Quick Start
+
+1. **Start development mode:**
+   \`\`\`bash
+   npm run dev
+   \`\`\`
+
+2. **Edit TypeScript files in src/**
+   - src/cc-router.ts - Core routing logic
+   - src/max-integration.ts - Max for Live interface
+   - src/types.ts - Type definitions
+
+3. **Files auto-compile to dist/**
+   - dist/cc-router.js
+   - dist/max-integration.js
+
+## Workflow
+
+1. Edit TypeScript files
+2. Files auto-compile (if using \`npm run watch\`)
+3. In Max for Live: reload the js object to pick up changes
+4. Test your changes
+
+## Max for Live Integration
+
+- The compiled JavaScript goes to your Max projects folder
+- Load cc-router.maxpat in Max for Live
+- The patcher contains a \`js cc-router.js @autowatch 1\` object
+- Send MIDI CC messages to test: \`[176, 13, 64]\`
+
+## Testing
+
+Send messages to the Max object:
+- \`loadbang\` - Initialize
+- \`help\` - Show commands  
+- \`config\` - Show current mappings
+- \`testcc 13 64\` - Test CC 13 with value 64
+- \`debug 1\` - Enable debug output
+
+## Adding New Features
+
+1. Add types to \`src/types.ts\`
+2. Implement logic in \`src/cc-router.ts\`
+3. Add Max interface in \`src/max-integration.ts\`
+4. Test in Max for Live
+
+## Debugging
+
+- Enable debug mode: \`debug 1\`
+- Check Max console for output
+- Use \`trackinfo\` to see current track/devices
+- Use \`config\` to see current mappings
+`;
+
+  fs.writeFileSync('DEVELOPMENT.md', devGuide);
+  console.log('‚úÖ Created DEVELOPMENT.md');
+  
+  // Create a VS Code settings file for better TypeScript experience
+  const vscodeDir = '.vscode';
+  if (!fs.existsSync(vscodeDir)) {
+    fs.mkdirSync(vscodeDir);
+  }
+  
+  const vscodeSettings = {
+    "typescript.preferences.quoteStyle": "single",
+    "editor.insertSpaces": true,
+    "editor.tabSize": 2,
+    "files.watcherExclude": {
+      "**/node_modules/**": true,
+      "**/dist/**": true
+    },
+    "typescript.suggest.autoImports": false,
+    "files.associations": {
+      "*.js": "javascript"
+    }
+  };
+  
+  fs.writeFileSync(path.join(vscodeDir, 'settings.json'), JSON.stringify(vscodeSettings, null, 2));
+  console.log('‚úÖ Created .vscode/settings.json');
+}
+
+// Run setup
+if (require.main === module) {
+  setup();
+}
+
+module.exports = { setup };
diff --git a/modules/audio-control/modules/live-max-cc-router/scripts/watch-deploy.cjs b/modules/audio-control/modules/live-max-cc-router/scripts/watch-deploy.cjs
new file mode 100644
index 0000000..0723adf
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/scripts/watch-deploy.cjs
@@ -0,0 +1,113 @@
+#!/usr/bin/env node
+
+const fs = require('fs');
+const path = require('path');
+const { spawn } = require('child_process');
+const chokidar = require('chokidar');
+const { findDeploymentPath } = require('./deploy');
+
+// Configuration
+const SOURCE_FILE = path.join(__dirname, '..', 'dist', 'cc-router.js');
+const PROJECT_NAME = 'cc-router';
+
+// Find deployment location
+const deploymentInfo = findDeploymentPath();
+if (!deploymentInfo) {
+  console.error('‚ùå Could not find Max for Live installation path.');
+  console.log('Please ensure Max for Live is installed and try again.');
+  process.exit(1);
+}
+
+const { targetDir } = deploymentInfo;
+const targetFile = path.join(targetDir, 'cc-router.js');
+
+// Ensure target directory exists
+if (!fs.existsSync(targetDir)) {
+  fs.mkdirSync(targetDir, { recursive: true });
+  console.log(`Created directory: ${targetDir}`);
+}
+
+// Copy function with error handling
+function copyToMax() {
+  if (fs.existsSync(SOURCE_FILE)) {
+    try {
+      fs.copyFileSync(SOURCE_FILE, targetFile);
+      const timestamp = new Date().toTimeString().split(' ')[0];
+      console.log(`[${timestamp}] ‚úÖ Copied to Max: ${targetFile}`);
+      return true;
+    } catch (error) {
+      console.error(`‚ùå Failed to copy: ${error.message}`);
+      return false;
+    }
+  } else {
+    console.log('‚è≥ Waiting for build output...');
+    return false;
+  }
+}
+
+// Start Rollup in watch mode
+console.log('üöÄ Starting Rollup in watch mode...');
+console.log(`üìÅ Auto-deploying to: ${targetFile}`);
+console.log('üìç Max autowatch will detect changes automatically\n');
+
+const rollup = spawn('npx', ['rollup', '-c', '-w'], {
+  stdio: 'pipe',
+  shell: true
+});
+
+// Handle Rollup output
+rollup.stdout.on('data', (data) => {
+  const output = data.toString();
+  process.stdout.write(output);
+
+  // When Rollup finishes building, copy to Max
+  if (output.includes('created dist/cc-router.js') || output.includes('updated')) {
+    setTimeout(() => {
+      copyToMax();
+    }, 100); // Small delay to ensure file is fully written
+  }
+});
+
+rollup.stderr.on('data', (data) => {
+  process.stderr.write(data);
+});
+
+// Also watch the dist directory as a fallback
+const watcher = chokidar.watch(SOURCE_FILE, {
+  persistent: true,
+  ignoreInitial: false,
+  awaitWriteFinish: {
+    stabilityThreshold: 100,
+    pollInterval: 100
+  }
+});
+
+watcher.on('add', () => {
+  console.log('üìù Initial file detected');
+  copyToMax();
+});
+
+watcher.on('change', () => {
+  copyToMax();
+});
+
+// Handle process termination
+process.on('SIGINT', () => {
+  console.log('\nüëã Stopping watch mode...');
+  rollup.kill();
+  watcher.close();
+  process.exit(0);
+});
+
+process.on('SIGTERM', () => {
+  rollup.kill();
+  watcher.close();
+  process.exit(0);
+});
+
+// Initial copy if file exists
+if (fs.existsSync(SOURCE_FILE)) {
+  copyToMax();
+}
+
+console.log('üëÄ Watching for changes... (Ctrl+C to stop)\n');
\ No newline at end of file
diff --git a/modules/audio-control/modules/live-max-cc-router/src/canonical-plugin-maps.ts b/modules/audio-control/modules/live-max-cc-router/src/canonical-plugin-maps.ts
new file mode 100644
index 0000000..ef21185
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/src/canonical-plugin-maps.ts
@@ -0,0 +1,470 @@
+/**
+ * Auto-generated from canonical MIDI maps
+ * DO NOT EDIT MANUALLY - Run 'npm run convert-maps' to regenerate
+ */
+
+export interface PluginMapping {
+  controller: {
+    manufacturer?: string;
+    model?: string;
+  };
+  pluginName: string;
+  pluginManufacturer: string;
+  mappings: {
+    [ccNumber: number]: {
+      deviceIndex: number;
+      parameterIndex: number;
+      parameterName: string;
+      curve: 'linear' | 'exponential' | 'logarithmic';
+    };
+  };
+  metadata: {
+    name?: string;
+    description?: string;
+    version?: string;
+  };
+}
+
+export interface Controller {
+  manufacturer: string;
+  model: string;
+}
+
+export const CANONICAL_PLUGIN_MAPS: { [key: string]: PluginMapping } = {
+  "launch-control-xl-3_channev": {
+    "controller": {
+      "manufacturer": "Novation",
+      "model": "Launch Control XL 3"
+    },
+    "pluginName": "CHANNEV",
+    "pluginManufacturer": "Analog Obsession",
+    "mappings": {
+      "5": {
+        "deviceIndex": 1,
+        "parameterIndex": 2,
+        "parameterName": "Mic Pre Gain",
+        "curve": "linear"
+      },
+      "6": {
+        "deviceIndex": 1,
+        "parameterIndex": 10,
+        "parameterName": "Line Amp",
+        "curve": "linear"
+      },
+      "10": {
+        "deviceIndex": 1,
+        "parameterIndex": 21,
+        "parameterName": "Comp Threshold",
+        "curve": "linear"
+      },
+      "11": {
+        "deviceIndex": 1,
+        "parameterIndex": 26,
+        "parameterName": "Limit Threshold",
+        "curve": "linear"
+      },
+      "12": {
+        "deviceIndex": 1,
+        "parameterIndex": 31,
+        "parameterName": "Tape Output",
+        "curve": "linear"
+      },
+      "13": {
+        "deviceIndex": 1,
+        "parameterIndex": 5,
+        "parameterName": "High Pass",
+        "curve": "linear"
+      },
+      "14": {
+        "deviceIndex": 1,
+        "parameterIndex": 19,
+        "parameterName": "EQ High Pass",
+        "curve": "linear"
+      },
+      "17": {
+        "deviceIndex": 1,
+        "parameterIndex": 25,
+        "parameterName": "Comp Dry/Wet",
+        "curve": "linear"
+      },
+      "18": {
+        "deviceIndex": 1,
+        "parameterIndex": 22,
+        "parameterName": "Comp Ratio",
+        "curve": "linear"
+      },
+      "19": {
+        "deviceIndex": 1,
+        "parameterIndex": 29,
+        "parameterName": "Limit Mix",
+        "curve": "linear"
+      },
+      "20": {
+        "deviceIndex": 1,
+        "parameterIndex": 30,
+        "parameterName": "Tape Drive",
+        "curve": "linear"
+      },
+      "22": {
+        "deviceIndex": 1,
+        "parameterIndex": 12,
+        "parameterName": "EQ Low Freq",
+        "curve": "linear"
+      },
+      "23": {
+        "deviceIndex": 1,
+        "parameterIndex": 14,
+        "parameterName": "EQ Low-Mid Freq",
+        "curve": "linear"
+      },
+      "24": {
+        "deviceIndex": 1,
+        "parameterIndex": 16,
+        "parameterName": "EQ High-Mid Freq",
+        "curve": "linear"
+      },
+      "25": {
+        "deviceIndex": 1,
+        "parameterIndex": 18,
+        "parameterName": "EQ High Freq",
+        "curve": "linear"
+      },
+      "26": {
+        "deviceIndex": 1,
+        "parameterIndex": 23,
+        "parameterName": "Comp Release",
+        "curve": "linear"
+      },
+      "27": {
+        "deviceIndex": 1,
+        "parameterIndex": 27,
+        "parameterName": "Limit Release",
+        "curve": "linear"
+      },
+      "29": {
+        "deviceIndex": 1,
+        "parameterIndex": 3,
+        "parameterName": "Low Shelf",
+        "curve": "linear"
+      },
+      "30": {
+        "deviceIndex": 1,
+        "parameterIndex": 11,
+        "parameterName": "EQ Low Gain",
+        "curve": "linear"
+      },
+      "31": {
+        "deviceIndex": 1,
+        "parameterIndex": 13,
+        "parameterName": "EQ Low-Mid Gain",
+        "curve": "linear"
+      },
+      "32": {
+        "deviceIndex": 1,
+        "parameterIndex": 15,
+        "parameterName": "EQ High-Mid Gain",
+        "curve": "linear"
+      },
+      "33": {
+        "deviceIndex": 1,
+        "parameterIndex": 17,
+        "parameterName": "EQ High Gain",
+        "curve": "linear"
+      },
+      "34": {
+        "deviceIndex": 1,
+        "parameterIndex": 24,
+        "parameterName": "Comp Gain",
+        "curve": "linear"
+      },
+      "35": {
+        "deviceIndex": 1,
+        "parameterIndex": 28,
+        "parameterName": "Limit Gain",
+        "curve": "linear"
+      },
+      "39": {
+        "deviceIndex": 1,
+        "parameterIndex": 40,
+        "parameterName": "EQ Low-Mid Q",
+        "curve": "linear"
+      },
+      "40": {
+        "deviceIndex": 1,
+        "parameterIndex": 41,
+        "parameterName": "EQ High-Mid Q",
+        "curve": "linear"
+      },
+      "53": {
+        "deviceIndex": 1,
+        "parameterIndex": 4,
+        "parameterName": "High Shelf",
+        "curve": "linear"
+      }
+    },
+    "metadata": {
+      "name": "Analog Obsession CHANNEV Mapping",
+      "description": "Professional channel strip plugin control with Launch Control XL 3's default CC layout",
+      "version": "1.0.0"
+    }
+  },
+  "launch-control-xl-3_mini-v4": {
+    "controller": {
+      "manufacturer": "Novation",
+      "model": "Launch Control XL 3"
+    },
+    "pluginName": "Mini V4",
+    "pluginManufacturer": "Arturia",
+    "mappings": {},
+    "metadata": {
+      "name": "Arturia Mini V4 Mapping",
+      "description": "MIDI CC mapping for Arturia Mini V4 Minimoog emulation plugin",
+      "version": "1.0.0"
+    }
+  },
+  "launch-control-xl-3_jup-8-v4": {
+    "controller": {
+      "manufacturer": "Novation",
+      "model": "Launch Control XL 3"
+    },
+    "pluginName": "Jup-8 V4",
+    "pluginManufacturer": "Arturia",
+    "mappings": {},
+    "metadata": {
+      "name": "Arturia Jup-8 V4 Mapping",
+      "description": "MIDI CC mapping for Arturia Jup-8 V4 Jupiter-8 emulation",
+      "version": "1.0.0"
+    }
+  },
+  "launch-control-xl-3_tal-j-8": {
+    "controller": {
+      "manufacturer": "Novation",
+      "model": "Launch Control XL 3"
+    },
+    "pluginName": "TAL-J-8",
+    "pluginManufacturer": "TAL Software",
+    "mappings": {
+      "13": {
+        "deviceIndex": 1,
+        "parameterIndex": 105,
+        "parameterName": "VCF Cutoff",
+        "curve": "linear"
+      },
+      "14": {
+        "deviceIndex": 1,
+        "parameterIndex": 103,
+        "parameterName": "HPF Cutoff",
+        "curve": "linear"
+      },
+      "15": {
+        "deviceIndex": 1,
+        "parameterIndex": 11,
+        "parameterName": "Portamento",
+        "curve": "linear"
+      },
+      "16": {
+        "deviceIndex": 1,
+        "parameterIndex": 59,
+        "parameterName": "PWM Amount",
+        "curve": "linear"
+      },
+      "17": {
+        "deviceIndex": 1,
+        "parameterIndex": 87,
+        "parameterName": "Cross Mod",
+        "curve": "linear"
+      },
+      "18": {
+        "deviceIndex": 1,
+        "parameterIndex": 91,
+        "parameterName": "Noise Level",
+        "curve": "linear"
+      },
+      "19": {
+        "deviceIndex": 1,
+        "parameterIndex": 137,
+        "parameterName": "Chorus Mix",
+        "curve": "linear"
+      },
+      "21": {
+        "deviceIndex": 1,
+        "parameterIndex": 107,
+        "parameterName": "Resonance",
+        "curve": "linear"
+      },
+      "22": {
+        "deviceIndex": 1,
+        "parameterIndex": 43,
+        "parameterName": "LFO Rate",
+        "curve": "linear"
+      },
+      "23": {
+        "deviceIndex": 1,
+        "parameterIndex": 89,
+        "parameterName": "Osc 1 Range",
+        "curve": "linear"
+      },
+      "24": {
+        "deviceIndex": 1,
+        "parameterIndex": 91,
+        "parameterName": "Osc 1 Waveform",
+        "curve": "linear"
+      },
+      "25": {
+        "deviceIndex": 1,
+        "parameterIndex": 24,
+        "parameterName": "Osc 1 Fine",
+        "curve": "linear"
+      },
+      "26": {
+        "deviceIndex": 1,
+        "parameterIndex": 85,
+        "parameterName": "VCO Mix",
+        "curve": "linear"
+      },
+      "27": {
+        "deviceIndex": 1,
+        "parameterIndex": 44,
+        "parameterName": "LFO 2 Rate",
+        "curve": "linear"
+      },
+      "28": {
+        "deviceIndex": 1,
+        "parameterIndex": 117,
+        "parameterName": "Key Follow",
+        "curve": "linear"
+      },
+      "29": {
+        "deviceIndex": 1,
+        "parameterIndex": 111,
+        "parameterName": "Env Amt",
+        "curve": "linear"
+      },
+      "30": {
+        "deviceIndex": 1,
+        "parameterIndex": 47,
+        "parameterName": "LFO Delay",
+        "curve": "linear"
+      },
+      "31": {
+        "deviceIndex": 1,
+        "parameterIndex": 93,
+        "parameterName": "Osc 2 Range",
+        "curve": "linear"
+      },
+      "33": {
+        "deviceIndex": 1,
+        "parameterIndex": 97,
+        "parameterName": "Osc 2 Fine",
+        "curve": "linear"
+      },
+      "34": {
+        "deviceIndex": 1,
+        "parameterIndex": 98,
+        "parameterName": "Osc 2 Detune",
+        "curve": "linear"
+      },
+      "35": {
+        "deviceIndex": 1,
+        "parameterIndex": 14,
+        "parameterName": "Bend Range",
+        "curve": "linear"
+      },
+      "36": {
+        "deviceIndex": 1,
+        "parameterIndex": 125,
+        "parameterName": "Velocity Sens",
+        "curve": "linear"
+      },
+      "41": {
+        "deviceIndex": 1,
+        "parameterIndex": 139,
+        "parameterName": "Delay Mix",
+        "curve": "linear"
+      },
+      "53": {
+        "deviceIndex": 1,
+        "parameterIndex": 65,
+        "parameterName": "Attack",
+        "curve": "linear"
+      },
+      "54": {
+        "deviceIndex": 1,
+        "parameterIndex": 67,
+        "parameterName": "Decay",
+        "curve": "linear"
+      },
+      "55": {
+        "deviceIndex": 1,
+        "parameterIndex": 69,
+        "parameterName": "Sustain",
+        "curve": "linear"
+      },
+      "56": {
+        "deviceIndex": 1,
+        "parameterIndex": 71,
+        "parameterName": "Release",
+        "curve": "linear"
+      },
+      "57": {
+        "deviceIndex": 1,
+        "parameterIndex": 85,
+        "parameterName": "Osc Mix",
+        "curve": "linear"
+      },
+      "58": {
+        "deviceIndex": 1,
+        "parameterIndex": 115,
+        "parameterName": "LFO Filter",
+        "curve": "linear"
+      },
+      "59": {
+        "deviceIndex": 1,
+        "parameterIndex": 123,
+        "parameterName": "LFO VCA",
+        "curve": "linear"
+      },
+      "60": {
+        "deviceIndex": 1,
+        "parameterIndex": 1,
+        "parameterName": "Master Volume",
+        "curve": "linear"
+      },
+      "61": {
+        "deviceIndex": 1,
+        "parameterIndex": 95,
+        "parameterName": "Osc 2 Waveform",
+        "curve": "linear"
+      }
+    },
+    "metadata": {
+      "name": "TAL-J-8 Jupiter 8 Mapping",
+      "description": "Optimized MIDI CC mapping for TAL-J-8 Jupiter 8 emulation plugin",
+      "version": "1.0.0"
+    }
+  }
+};
+
+export const AVAILABLE_CONTROLLERS: { [key: string]: Controller } = {
+  "launch-control-xl-3": {
+    "manufacturer": "Novation",
+    "model": "Launch Control XL 3"
+  }
+};
+
+/**
+ * Get plugin mapping by controller and plugin name (case-insensitive, fuzzy match)
+ */
+export function getPluginMapping(controllerModel: string, pluginName: string): PluginMapping | undefined {
+  const controllerKey = controllerModel.toLowerCase().replace(/[^a-z0-9]+/g, '-');
+  const pluginKey = pluginName.toLowerCase().replace(/[^a-z0-9]+/g, '-');
+  const key = `${controllerKey}_${pluginKey}`;
+  return CANONICAL_PLUGIN_MAPS[key];
+}
+
+/**
+ * Get all available controller models
+ */
+export function getAvailableControllers(): Controller[] {
+  return Object.values(AVAILABLE_CONTROLLERS);
+}
diff --git a/modules/audio-control/modules/live-max-cc-router/src/cc-router.ts b/modules/audio-control/modules/live-max-cc-router/src/cc-router.ts
new file mode 100644
index 0000000..1682132
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/src/cc-router.ts
@@ -0,0 +1,421 @@
+/**
+ * CC Router for Max for Live - TypeScript Implementation
+ * Routes MIDI CC messages to parameters on the currently selected track
+ */
+
+import { ParameterMapping, LiveAPIObject, TrackInfo, DeviceInfo } from '@/types';
+import { CANONICAL_PLUGIN_MAPS, getPluginMapping, getAvailableControllers, Controller } from '@/canonical-plugin-maps';
+import { logger, LogLevel } from '@/logger';
+
+export class CCRouter {
+  private mappings: ParameterMapping[] = [];
+  private selectedTrackId: number = -1;
+  private liveAPI: LiveAPIObject | null = null;
+  private selectedController: string = 'Launch Control XL 3'; // Default controller
+
+  constructor() {
+    this.initializeDefaultMappings();
+    // Don't call setupLiveAPI in constructor - causes crash
+    // Call it explicitly from loadbang() instead
+  }
+
+  /**
+   * Initialize default Launch Control XL3 mappings
+   * NOTE: Device index 0 is the cc-router itself, so we target device 1 (first plugin after cc-router)
+   */
+  private initializeDefaultMappings(): void {
+    this.mappings = [
+      { ccNumber: 13, deviceIndex: 1, parameterIndex: 0, parameterName: 'Knob 1', curve: 'linear' },
+      { ccNumber: 14, deviceIndex: 1, parameterIndex: 1, parameterName: 'Knob 2', curve: 'linear' },
+      { ccNumber: 15, deviceIndex: 1, parameterIndex: 2, parameterName: 'Knob 3', curve: 'linear' },
+      { ccNumber: 16, deviceIndex: 1, parameterIndex: 3, parameterName: 'Knob 4', curve: 'linear' },
+      { ccNumber: 17, deviceIndex: 1, parameterIndex: 4, parameterName: 'Knob 5', curve: 'linear' },
+      { ccNumber: 18, deviceIndex: 1, parameterIndex: 5, parameterName: 'Knob 6', curve: 'linear' },
+      { ccNumber: 19, deviceIndex: 1, parameterIndex: 6, parameterName: 'Knob 7', curve: 'linear' },
+      { ccNumber: 20, deviceIndex: 1, parameterIndex: 7, parameterName: 'Knob 8', curve: 'linear' }
+    ];
+  }
+
+  /**
+   * Set up Live API connection and observers
+   * Must be called after constructor completes
+   */
+  public setupLiveAPI(): void {
+    try {
+      this.liveAPI = new LiveAPI("live_set");
+
+      // Skip track observer - causes crash
+      // this.setupTrackObserver();
+
+      logger.info("Live API initialized (no observer)");
+    } catch (error) {
+      logger.error("Failed to initialize Live API - " + error);
+    }
+  }
+
+  /**
+   * Set up track selection observer
+   */
+  private setupTrackObserver(): void {
+    try {
+      const observer = new LiveAPI("live_set view");
+      observer.property = "selected_track";
+      observer.id = "track_observer";
+
+      logger.debug("Track observer setup complete");
+    } catch (err) {
+      logger.error("Failed to setup track observer - " + err);
+    }
+  }
+
+  /**
+   * Handle incoming MIDI CC message
+   */
+  public handleCCMessage(ccNumber: number, value: number, channel: number): void {
+    const mapping = this.findMapping(ccNumber);
+
+    if (!mapping) {
+      logger.debug("No mapping found for CC " + ccNumber);
+      outlet(0, "set", "CC" + ccNumber + " - No mapping");
+      return;
+    }
+
+    logger.trace("Processing CC " + ccNumber + " = " + value + " -> Device[" + mapping.deviceIndex + "] Param[" + mapping.parameterIndex + "]");
+
+    this.routeToSelectedTrack(mapping, value);
+  }
+
+  /**
+   * Find mapping for given CC number
+   */
+  private findMapping(ccNumber: number): ParameterMapping | null {
+    for (let i = 0; i < this.mappings.length; i++) {
+      if (this.mappings[i].ccNumber === ccNumber) {
+        return this.mappings[i];
+      }
+    }
+    return null;
+  }
+
+  /**
+   * Route CC value to parameter on selected track
+   */
+  private routeToSelectedTrack(mapping: ParameterMapping, value: number): void {
+    try {
+      const selectedTrack = new LiveAPI("live_set view selected_track");
+
+      if (!selectedTrack || selectedTrack.id === "0") {
+        logger.warn("No track selected");
+        outlet(0, "set", "ERROR: No track selected");
+        return;
+      }
+
+      // Check if device exists
+      const devices = selectedTrack.get("devices");
+      const trackName = selectedTrack.get("name");
+
+      logger.trace("Track '" + trackName + "' has " + devices.length + " devices");
+
+      if (mapping.deviceIndex >= devices.length) {
+        logger.debug("ERROR - Device[" + mapping.deviceIndex + "] not found");
+        logger.debug("  Track: " + trackName);
+        logger.debug("  Available devices: " + devices.length + " (indices 0-" + (devices.length - 1) + ")");
+
+        // List all devices
+        for (let i = 0; i < devices.length; i++) {
+          const dev = new LiveAPI("live_set view selected_track devices " + i);
+          logger.debug("    Device[" + i + "]: " + dev.get("name"));
+        }
+
+        outlet(0, "set", "ERROR: Dev[" + mapping.deviceIndex + "] not found (have " + devices.length + ")");
+        return;
+      }
+
+      // Get target device
+      const devicePath = "live_set view selected_track devices " + mapping.deviceIndex;
+      const targetDevice = new LiveAPI(devicePath);
+      const deviceName = targetDevice.get("name");
+
+      // Check if parameter exists
+      const parameters = targetDevice.get("parameters");
+      if (mapping.parameterIndex >= parameters.length) {
+        logger.debug("ERROR - Parameter[" + mapping.parameterIndex + "] not found");
+        logger.debug("  Device[" + mapping.deviceIndex + "]: " + deviceName);
+        logger.debug("  Available parameters: " + parameters.length + " (indices 0-" + (parameters.length - 1) + ")");
+
+        // List first 10 params
+        const maxShow = Math.min(10, parameters.length);
+        for (let i = 0; i < maxShow; i++) {
+          const pName = targetDevice.get("parameters " + i + " name");
+          logger.debug("    Param[" + i + "]: " + pName);
+        }
+        if (parameters.length > 10) {
+          logger.debug("    ... and " + (parameters.length - 10) + " more");
+        }
+
+        outlet(0, "set", "ERROR: Param[" + mapping.parameterIndex + "] not found (have " + parameters.length + ")");
+        return;
+      }
+
+      // Transform value
+      const normalizedValue = this.transformValue(value, mapping);
+
+      // Create LiveAPI for the specific parameter
+      const parameterPath = "live_set view selected_track devices " + mapping.deviceIndex + " parameters " + mapping.parameterIndex;
+      const parameter = new LiveAPI(parameterPath);
+
+      // Set parameter value
+      parameter.set("value", normalizedValue);
+
+      const paramName = parameter.get("name");
+
+      logger.trace("SUCCESS!");
+      logger.trace("  Track: " + trackName);
+      logger.trace("  Device[" + mapping.deviceIndex + "]: " + deviceName);
+      logger.trace("  Param[" + mapping.parameterIndex + "]: " + paramName);
+      logger.trace("  Value: " + value + " (MIDI) -> " + normalizedValue.toFixed(3) + " (normalized)");
+
+      // Send success message to display
+      outlet(0, "set", "OK: Dev[" + mapping.deviceIndex + "]:" + deviceName + " > " + paramName + "=" + normalizedValue.toFixed(2));
+
+    } catch (err) {
+      logger.error("Error routing CC - " + err);
+      outlet(0, "set", "ERROR: " + err);
+    }
+  }
+
+  /**
+   * Transform MIDI value (0-127) to parameter value with curve and range
+   */
+  private transformValue(midiValue: number, mapping: ParameterMapping): number {
+    // Normalize to 0-1
+    let normalized = midiValue / 127.0;
+    
+    // Apply curve
+    switch (mapping.curve) {
+      case 'exponential':
+        normalized = normalized * normalized;
+        break;
+      case 'logarithmic':
+        normalized = Math.sqrt(normalized);
+        break;
+      case 'linear':
+      default:
+        // No transformation needed
+        break;
+    }
+    
+    // Apply min/max range if specified
+    if (mapping.minValue !== undefined && mapping.maxValue !== undefined) {
+      normalized = mapping.minValue + (normalized * (mapping.maxValue - mapping.minValue));
+    }
+    
+    return normalized;
+  }
+
+  /**
+   * Add or update a parameter mapping
+   */
+  public setMapping(ccNumber: number, deviceIndex: number, parameterIndex: number, parameterName?: string, curve?: 'linear' | 'exponential' | 'logarithmic'): void {
+    const existingIndex = this.mappings.findIndex(m => m.ccNumber === ccNumber);
+    
+    const mapping: ParameterMapping = {
+      ccNumber: ccNumber,
+      deviceIndex: deviceIndex,
+      parameterIndex: parameterIndex,
+      parameterName: parameterName || ("CC " + ccNumber + " -> Param " + parameterIndex),
+      curve: curve || 'linear'
+    };
+
+    if (existingIndex >= 0) {
+      this.mappings[existingIndex] = mapping;
+    } else {
+      this.mappings.push(mapping);
+    }
+
+    logger.debug("Updated mapping CC " + ccNumber + " -> Device " + deviceIndex + " Param " + parameterIndex);
+  }
+
+  /**
+   * Remove a parameter mapping
+   */
+  public removeMapping(ccNumber: number): void {
+    this.mappings = this.mappings.filter(m => m.ccNumber !== ccNumber);
+
+    logger.debug("Removed mapping for CC " + ccNumber);
+  }
+
+  /**
+   * Auto-detect plugin on selected track and apply canonical mapping if available
+   */
+  public autoApplyCanonicalMapping(deviceIndex?: number): void {
+    try {
+      const selectedTrack = new LiveAPI("live_set view selected_track");
+
+      if (!selectedTrack || selectedTrack.id === "0") {
+        logger.warn("No track selected");
+        return;
+      }
+
+      const devices = selectedTrack.get("devices");
+      const targetDeviceIndex = deviceIndex !== undefined ? deviceIndex : 1; // Default to first plugin after cc-router
+
+      if (targetDeviceIndex >= devices.length) {
+        logger.warn("Device index " + targetDeviceIndex + " not found (only " + devices.length + " devices)");
+        return;
+      }
+
+      // Get device name
+      const devicePath = "live_set view selected_track devices " + targetDeviceIndex;
+      const device = new LiveAPI(devicePath);
+      const deviceNameRaw = device.get("name");
+      // LiveAPI returns arrays, extract first element as string
+      const deviceName = Array.isArray(deviceNameRaw) ? String(deviceNameRaw[0]) : String(deviceNameRaw);
+
+      logger.info("Detected plugin: " + deviceName);
+      logger.info("Using controller: " + this.selectedController);
+
+      // Try to find canonical mapping for this controller + plugin combination
+      const canonicalMapping = getPluginMapping(this.selectedController, deviceName);
+
+      if (canonicalMapping) {
+        logger.info("Found canonical mapping for " + canonicalMapping.controller.model + " + " + canonicalMapping.pluginName);
+
+        // Clear existing mappings
+        this.mappings = [];
+
+        // Apply canonical mappings
+        const mappingKeys = Object.keys(canonicalMapping.mappings);
+        for (let i = 0; i < mappingKeys.length; i++) {
+          const ccNumber = parseInt(mappingKeys[i], 10);
+          const mapping = canonicalMapping.mappings[ccNumber];
+
+          this.setMapping(
+            ccNumber,
+            mapping.deviceIndex,
+            mapping.parameterIndex,
+            mapping.parameterName,
+            mapping.curve
+          );
+        }
+
+        logger.info("Applied " + mappingKeys.length + " canonical mappings for " + canonicalMapping.pluginName);
+      } else {
+        logger.warn("No canonical mapping found for " + this.selectedController + " + " + deviceName);
+        logger.debug("Available mappings: " + Object.keys(CANONICAL_PLUGIN_MAPS).join(", "));
+      }
+    } catch (err) {
+      logger.error("Error auto-applying canonical mapping - " + err);
+    }
+  }
+
+  /**
+   * Set the selected MIDI controller
+   */
+  public setController(controllerModel: string): void {
+    this.selectedController = controllerModel;
+    logger.info("Controller set to " + controllerModel);
+  }
+
+  /**
+   * Get list of available controllers
+   */
+  public getControllers(): Controller[] {
+    return getAvailableControllers();
+  }
+
+  /**
+   * Get all current mappings
+   */
+  public getMappings(): ParameterMapping[] {
+    return this.mappings.slice(); // Return copy
+  }
+
+  /**
+   * Set debug mode (now controls log level)
+   */
+  public setDebugMode(enabled: boolean): void {
+    if (enabled) {
+      logger.setLogLevel(LogLevel.DEBUG);
+    } else {
+      logger.setLogLevel(LogLevel.INFO);
+    }
+  }
+
+  /**
+   * Get information about the currently selected track
+   */
+  public getSelectedTrackInfo(): TrackInfo | null {
+    try {
+      const selectedTrack = new LiveAPI("live_set view selected_track");
+      
+      if (!selectedTrack || selectedTrack.id === "0") {
+        return null;
+      }
+
+      return {
+        id: parseInt(selectedTrack.get("id")),
+        name: selectedTrack.get("name"),
+        deviceCount: selectedTrack.get("devices").length
+      };
+    } catch (err) {
+      logger.error("Error getting track info - " + err);
+      return null;
+    }
+  }
+
+  /**
+   * Get information about devices on the selected track
+   */
+  public getSelectedTrackDevices(): DeviceInfo[] {
+    try {
+      const selectedTrack = new LiveAPI("live_set view selected_track");
+      
+      if (!selectedTrack || selectedTrack.id === "0") {
+        return [];
+      }
+
+      const devices = selectedTrack.get("devices");
+      const deviceInfo: DeviceInfo[] = [];
+
+      for (let i = 0; i < devices.length; i++) {
+        const device = new LiveAPI("live_set view selected_track devices " + i);
+        const parameters = device.get("parameters");
+        
+        deviceInfo.push({
+          index: i,
+          name: device.get("name"),
+          parameterCount: parameters.length
+        });
+      }
+
+      return deviceInfo;
+    } catch (err) {
+      logger.error("Error getting device info - " + err);
+      return [];
+    }
+  }
+
+  /**
+   * Print current configuration for debugging
+   */
+  public printConfiguration(): void {
+    logger.info("=== CC Router Configuration ===");
+    logger.info("Mappings: " + this.mappings.length);
+
+    for (let i = 0; i < this.mappings.length; i++) {
+      const m = this.mappings[i];
+      logger.info("  CC " + m.ccNumber + " -> Device " + m.deviceIndex + " Param " + m.parameterIndex + " (" + m.curve + ")");
+    }
+
+    const trackInfo = this.getSelectedTrackInfo();
+    if (trackInfo) {
+      logger.info("Selected Track: " + trackInfo.name + " (" + trackInfo.deviceCount + " devices)");
+    } else {
+      logger.info("No track selected");
+    }
+  }
+}
+
+// Export for Max for Live usage
+var ccRouter: CCRouter;
\ No newline at end of file
diff --git a/modules/audio-control/modules/live-max-cc-router/src/logger.ts b/modules/audio-control/modules/live-max-cc-router/src/logger.ts
new file mode 100644
index 0000000..779381b
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/src/logger.ts
@@ -0,0 +1,69 @@
+/**
+ * Centralized logging utility for Max for Live
+ * Provides configurable log levels to control verbosity
+ */
+
+export enum LogLevel {
+  ERROR = 0,
+  WARN = 1,
+  INFO = 2,
+  DEBUG = 3,
+  TRACE = 4
+}
+
+export class Logger {
+  private static instance: Logger;
+  private logLevel: LogLevel = LogLevel.INFO; // Default to INFO level
+  private prefix: string = "CC Router";
+
+  private constructor() {}
+
+  public static getInstance(): Logger {
+    if (!Logger.instance) {
+      Logger.instance = new Logger();
+    }
+    return Logger.instance;
+  }
+
+  public setLogLevel(level: LogLevel): void {
+    this.logLevel = level;
+    this.info(`Log level set to ${LogLevel[level]}`);
+  }
+
+  public getLogLevel(): LogLevel {
+    return this.logLevel;
+  }
+
+  public error(message: string): void {
+    if (this.logLevel >= LogLevel.ERROR) {
+      error(`${this.prefix} [ERROR]: ${message}\n`);
+    }
+  }
+
+  public warn(message: string): void {
+    if (this.logLevel >= LogLevel.WARN) {
+      post(`${this.prefix} [WARN]: ${message}\n`);
+    }
+  }
+
+  public info(message: string): void {
+    if (this.logLevel >= LogLevel.INFO) {
+      post(`${this.prefix}: ${message}\n`);
+    }
+  }
+
+  public debug(message: string): void {
+    if (this.logLevel >= LogLevel.DEBUG) {
+      post(`${this.prefix} [DEBUG]: ${message}\n`);
+    }
+  }
+
+  public trace(message: string): void {
+    if (this.logLevel >= LogLevel.TRACE) {
+      post(`${this.prefix} [TRACE]: ${message}\n`);
+    }
+  }
+}
+
+// Export singleton instance
+export const logger = Logger.getInstance();
diff --git a/modules/audio-control/modules/live-max-cc-router/src/max-integration.ts b/modules/audio-control/modules/live-max-cc-router/src/max-integration.ts
new file mode 100644
index 0000000..4a7a34e
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/src/max-integration.ts
@@ -0,0 +1,280 @@
+/**
+ * Main Max for Live integration file
+ * This file provides the Max interface functions and handles the integration
+ */
+
+import { CCRouter } from '@/cc-router';
+import { logger, LogLevel } from '@/logger';
+
+// Max for Live global configuration
+autowatch = 1;
+outlets = 3; // 0: debug display, 1: build timestamp, 2: extra
+inlets = 2; // inlet 0: MIDI, inlet 1: live.thisdevice notifications
+
+// Global router instance - used by all functions below
+// @ts-ignore - prevent tree-shaking removal
+var ccRouter: CCRouter;
+var liveReady = false;
+
+/**
+ * Called when live.thisdevice sends a bang (Live API is ready)
+ */
+function bang(): void {
+  if (!liveReady) {
+    liveReady = true;
+    logger.info("Live API ready (bang received), initializing...");
+    initializeRouter();
+  }
+}
+
+/**
+ * Called for other messages from live.thisdevice
+ */
+function anything(): void {
+  const message = messagename;
+  logger.debug("Received message '" + message + "' from live.thisdevice");
+}
+
+/**
+ * Called when the Max object loads
+ */
+function loadbang(): void {
+  logger.info("Waiting for Live API to initialize...");
+  outlet(0, "set", "Initializing...");
+}
+
+/**
+ * Initialize the router once Live API is ready
+ */
+function initializeRouter(): void {
+  ccRouter = new CCRouter();
+  ccRouter.setupLiveAPI();
+
+  // Get current timestamp
+  const now = new Date();
+  const hours = String(now.getHours()).padStart(2, '0');
+  const minutes = String(now.getMinutes()).padStart(2, '0');
+  const seconds = String(now.getSeconds()).padStart(2, '0');
+  const timestamp = hours + ":" + minutes + ":" + seconds;
+
+  logger.info("CC Router for Max for Live v1.0 loaded at " + timestamp);
+  logger.info("Launch Control XL3 CC 13-20 mapped to device 0 parameters 0-7");
+  logger.info("Type 'help' for available commands");
+
+  // Initialize router - set to INFO level by default for less verbosity
+  logger.setLogLevel(LogLevel.INFO);
+  ccRouter.printConfiguration();
+
+  // Send status to display
+  outlet(0, "set", "CC Router v1.0 - Ready");
+
+  // Send build timestamp to display
+  outlet(1, "set", "Build: " + timestamp);
+
+  // Show available devices on the track
+  logger.info("=== Track Device Chain ===");
+  const devices = ccRouter.getSelectedTrackDevices();
+  if (devices.length > 0) {
+    for (let i = 0; i < devices.length; i++) {
+      logger.info("Device " + i + ": " + devices[i].name + " (" + devices[i].parameterCount + " params)");
+    }
+  } else {
+    logger.info("No devices found on track");
+  }
+  logger.info("========================");
+
+  // Auto-detect and apply canonical mapping on load
+  logger.info("Auto-detecting plugin mapping...");
+  ccRouter.autoApplyCanonicalMapping(1);
+}
+
+/**
+ * Handle incoming MIDI CC messages from midiparse
+ * Input format: [ccNumber, value] where midiparse outlet 2 sends controller messages
+ */
+function list(): void {
+  const args = arrayfromargs(arguments);
+
+  if (args.length < 2) {
+    logger.warn("Invalid MIDI format (expected 2 values, got " + args.length + ")");
+    return;
+  }
+
+  // midiparse outlet 2 sends: [ccNumber, value]
+  const ccNumber = args[0];
+  const value = args[1];
+
+  // Send status to display
+  outlet(0, "set", "RX: CC" + ccNumber + "=" + value);
+
+  // Only route if ccRouter is initialized
+  if (!ccRouter) {
+    logger.warn("Received MIDI before initialization complete");
+    return;
+  }
+
+  // Route through CCRouter (channel is always 0 since midiparse strips it)
+  ccRouter.handleCCMessage(ccNumber, value, 0);
+}
+
+function setmapping(): void {
+  const args = arrayfromargs(arguments);
+  if (args.length < 3) {
+    error("Usage: setmapping <ccNumber> <deviceIndex> <parameterIndex> [parameterName] [curve]\n");
+    return;
+  }
+  const ccNumber = args[0];
+  const deviceIndex = args[1];
+  const parameterIndex = args[2];
+  const parameterName = args.length > 3 ? args[3] : undefined;
+  const curve = args.length > 4 ? args[4] : 'linear';
+  ccRouter.setMapping(ccNumber, deviceIndex, parameterIndex, parameterName, curve);
+}
+
+function removemapping(ccNumber: number): void {
+  ccRouter.removeMapping(ccNumber);
+}
+
+function debug(enabled: number): void {
+  ccRouter.setDebugMode(enabled === 1);
+}
+
+/**
+ * Set the log level for controlling output verbosity
+ * Usage: setloglevel <level>
+ * Levels: 0=ERROR, 1=WARN, 2=INFO, 3=DEBUG, 4=TRACE
+ */
+function setloglevel(level: number): void {
+  if (level < 0 || level > 4) {
+    error("Invalid log level. Use 0=ERROR, 1=WARN, 2=INFO, 3=DEBUG, 4=TRACE\n");
+    return;
+  }
+  logger.setLogLevel(level as LogLevel);
+}
+
+function testcc(ccNumber: number, value: number): void {
+  ccRouter.handleCCMessage(ccNumber, value, 0);
+}
+
+function config(): void {
+  ccRouter.printConfiguration();
+}
+
+function trackinfo(): void {
+  const trackInfo = ccRouter.getSelectedTrackInfo();
+  if (trackInfo) {
+    logger.info("Selected Track: " + trackInfo.name + " (ID: " + trackInfo.id + ")");
+    logger.info("Devices: " + trackInfo.deviceCount);
+    const devices = ccRouter.getSelectedTrackDevices();
+    for (let i = 0; i < devices.length; i++) {
+      const device = devices[i];
+      logger.info("  Device " + device.index + ": " + device.name + " (" + device.parameterCount + " parameters)");
+    }
+  } else {
+    logger.info("No track selected");
+  }
+}
+
+/**
+ * Auto-apply canonical mapping for detected plugin
+ * Usage: automap [deviceIndex]
+ */
+function automap(deviceIndex?: number): void {
+  if (!ccRouter) {
+    logger.warn("Not initialized");
+    return;
+  }
+  ccRouter.autoApplyCanonicalMapping(deviceIndex);
+}
+
+/**
+ * Set the MIDI controller to use for canonical mappings
+ * Usage: setcontroller <controllerModel>
+ */
+function setcontroller(controllerModel: string): void {
+  if (!ccRouter) {
+    logger.warn("Not initialized");
+    return;
+  }
+  ccRouter.setController(controllerModel);
+}
+
+/**
+ * List all available controllers
+ */
+function listcontrollers(): void {
+  if (!ccRouter) {
+    logger.warn("Not initialized");
+    return;
+  }
+  const controllers = ccRouter.getControllers();
+  logger.info("=== Available Controllers ===");
+  for (let i = 0; i < controllers.length; i++) {
+    logger.info(controllers[i].manufacturer + " " + controllers[i].model);
+  }
+  logger.info("===========================");
+}
+
+function setupfor(pluginType: string): void {
+  // ...
+}
+
+/*
+// Unused functions commented out for reference
+
+function msg_int(value: number): void {
+  ccRouter.handleCCMessage(13, value, 0);
+}
+
+function msg_float(value: number): void {
+  const midiValue = Math.round(value * 127);
+  ccRouter.handleCCMessage(13, midiValue, 0);
+}
+
+function setupEQ8Mappings(): void {
+  // ...
+}
+
+function setupCompressorMappings(): void {
+  // ...
+}
+
+function setupReverbMappings(): void {
+  // ...
+}
+
+function setupOperatorMappings(): void {
+  // ...
+}
+
+function track_observer(): void {
+  const trackInfo = ccRouter.getSelectedTrackInfo();
+  if (trackInfo) {
+    post("Track selection changed to: " + trackInfo.name + "\n");
+  }
+}
+
+function help(): void {
+  post("=== CC Router Commands ===\n");
+  post("loadbang - Reload the router\n");
+  post("config - Show current configuration\n");
+  post("trackinfo - Show selected track information\n");
+  post("debug <0|1> - Toggle debug mode\n");
+  post("testcc <ccNumber> <value> - Test a CC message\n");
+  post("setmapping <cc> <device> <param> [name] [curve] - Add/update mapping\n");
+  post("removemapping <cc> - Remove mapping\n");
+  post("setupfor <plugin> - Configure for specific plugin (eq8, compressor, reverb, operator)\n");
+  post("help - Show this help\n");
+}
+
+function bang(): void {
+  trackinfo();
+}
+
+function closebang(): void {
+  post("CC Router closed\n");
+}
+*/
+
+// IMPORTANT: Functions are already declared at top level and accessible to Max v8
+// No need for explicit global assignment - v8 object sees top-level declarations
\ No newline at end of file
diff --git a/modules/audio-control/modules/live-max-cc-router/src/types.ts b/modules/audio-control/modules/live-max-cc-router/src/types.ts
new file mode 100644
index 0000000..d560285
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/src/types.ts
@@ -0,0 +1,71 @@
+// Max for Live TypeScript definitions
+// These types provide IntelliSense and type safety for Max's JavaScript environment
+
+// Declare Max for Live globals
+declare global {
+  // Max global variables
+  var outlets: number;
+  var inlets: number;
+  var autowatch: number;
+  var messagename: string; // Name of incoming message (for anything() function)
+
+  // Max global functions
+  function post(message: string): void;
+  function error(message: string): void;
+  function arrayfromargs(args: IArguments, start?: number): any[];
+  function outlet(outlet: number, ...args: any[]): void;
+
+  // Max object constructor
+  var LiveAPI: {
+    new (path: string): LiveAPIObject;
+  };
+}
+
+// LiveAPI object interface
+export interface LiveAPIObject {
+  id: string;
+  property: string;
+  get(property: string): any;
+  set(property: string, value: any): void;
+  call(method: string, ...args: any[]): any;
+}
+
+// MIDI Message interface
+export interface MIDIMessage {
+  ccNumber: number;
+  value: number;
+  channel: number;
+  timestamp: number;
+}
+
+// Parameter mapping configuration
+export interface ParameterMapping {
+  ccNumber: number;
+  deviceIndex: number;
+  parameterIndex: number;
+  parameterName: string;
+  minValue?: number;
+  maxValue?: number;
+  curve: 'linear' | 'exponential' | 'logarithmic';
+}
+
+// Track information
+export interface TrackInfo {
+  id: number;
+  name: string;
+  deviceCount: number;
+}
+
+// Device information
+export interface DeviceInfo {
+  index: number;
+  name: string;
+  parameterCount: number;
+}
+
+// Configuration object for the CC router
+export interface CCRouterConfig {
+  mappings: ParameterMapping[];
+  debugMode: boolean;
+  selectedTrackOnly: boolean;
+}
\ No newline at end of file
diff --git a/modules/audio-control/modules/live-max-cc-router/tsconfig.json b/modules/audio-control/modules/live-max-cc-router/tsconfig.json
new file mode 100644
index 0000000..b758d25
--- /dev/null
+++ b/modules/audio-control/modules/live-max-cc-router/tsconfig.json
@@ -0,0 +1,31 @@
+{
+  "extends": "../../tsconfig.base.json",
+  "compilerOptions": {
+    "target": "ES5",
+    "module": "ES2015",
+    "lib": ["ES5", "ES2015"],
+    "outDir": "./dist",
+    "rootDir": "./src",
+    "declaration": false,
+    "declarationMap": false,
+    "sourceMap": true,
+    "removeComments": false,
+    "moduleResolution": "node",
+    "baseUrl": "./",
+    "paths": {
+      "@/*": ["src/*"]
+    },
+    "composite": false,
+    "incremental": false,
+    "noUnusedLocals": false,
+    "noUnusedParameters": false
+  },
+  "include": [
+    "src/**/*"
+  ],
+  "exclude": [
+    "node_modules",
+    "dist",
+    "**/*.test.ts"
+  ]
+}


---

_**Agent (claude-sonnet-4-5-20250929)**_

refactor: convert live-max-cc-router submodule to integrated module

